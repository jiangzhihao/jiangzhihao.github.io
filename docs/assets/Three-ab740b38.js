import{V as d,S as M,B as f,M as g,a as _,b as x,A as L,P as z,c as S,d as v,e as C,W as E,O as P}from"./OrbitControls-0435fcb4.js";import{d as b,r as H,o as q,c as G,b as O}from"./index-bf5306e0.js";const V=new d,W=new d,F=new d,R=1e-10;class k{constructor(t=new d(0,0,0),e=new d(0,1,0),s=1){this.start=t,this.end=e,this.radius=s}clone(){return new k(this.start.clone(),this.end.clone(),this.radius)}set(t,e,s){this.start.copy(t),this.end.copy(e),this.radius=s}copy(t){this.start.copy(t.start),this.end.copy(t.end),this.radius=t.radius}getCenter(t){return t.copy(this.end).add(this.start).multiplyScalar(.5)}translate(t){this.start.add(t),this.end.add(t)}checkAABBAxis(t,e,s,i,h,r,m,o,n){return(h-t<n||h-s<n)&&(t-r<n||s-r<n)&&(m-e<n||m-i<n)&&(e-o<n||i-o<n)}intersectsBox(t){return this.checkAABBAxis(this.start.x,this.start.y,this.end.x,this.end.y,t.min.x,t.max.x,t.min.y,t.max.y,this.radius)&&this.checkAABBAxis(this.start.x,this.start.z,this.end.x,this.end.z,t.min.x,t.max.x,t.min.z,t.max.z,this.radius)&&this.checkAABBAxis(this.start.y,this.start.z,this.end.y,this.end.z,t.min.y,t.max.y,t.min.z,t.max.z,this.radius)}lineLineMinimumPoints(t,e){const s=V.copy(t.end).sub(t.start),i=W.copy(e.end).sub(e.start),h=F.copy(e.start).sub(t.start),r=s.dot(i),m=s.dot(s),o=i.dot(i),n=i.dot(h),w=s.dot(h);let c,a;const l=m*o-r*r;if(Math.abs(l)<R){const p=-n/o,u=(r-n)/o;Math.abs(p-.5)<Math.abs(u-.5)?(c=0,a=p):(c=1,a=u)}else c=(n*r+w*o)/l,a=(c*r-n)/o;a=Math.max(0,Math.min(1,a)),c=Math.max(0,Math.min(1,c));const y=s.multiplyScalar(c).add(t.start),A=i.multiplyScalar(a).add(e.start);return[y,A]}}const I=b({__name:"Three",setup(T){const t=H();return q(()=>{var u;const e=new M,s=new f(100,100,100),i=new g({color:255,transparent:!0,opacity:.5,side:_}),h=new x(s,i);h.position.set(0,0,0),e.add(h);const r=new L(16777215,.5);e.add(r);const m=new z(16777215,.9);m.position.set(-200,300,400),e.add(m);const o=new S(300);e.add(o);const n=new v(m,10);e.add(n);const w=800,c=500,a=new C(500,w/c,1,5e3);a.position.set(15,10,15),a.lookAt(0,0,0);const l=new E;l.setSize(w,c),l.render(e,a),(u=t.value)==null||u.appendChild(l.domElement);const y={};new k(new d(0,.35,0),new d(1,1,1),.35),new d,new d,document.addEventListener("keydown",B=>{y[B.code]=!0}),document.addEventListener("keyup",B=>{y[B.code]=!1});const A=new P(a,l.domElement);A.target.set(0,0,0),A.update();function p(){l.render(e,a),window.requestAnimationFrame(p)}p()}),(e,s)=>(O(),G("div",{ref_key:"container",ref:t,style:{height:"500px",width:"800px","background-color":"aqua"}},null,512))}});export{I as default};
