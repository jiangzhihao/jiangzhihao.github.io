import{g as Hr,c as yt}from"./_commonjsHelpers-edff4021.js";import{_ as Ai}from"./__vite-browser-external-66d318e3.js";import{S as Ii,A as Oi,P as Ni,c as Pi,d as Fi,e as Ti,W as Ri,O as Bi,G as zi,f as Li,g as Di,L as Ui,h as ji}from"./OrbitControls-0435fcb4.js";import{d as qi,r as Gi,o as $i,c as Wi,b as Zi}from"./index-bf5306e0.js";function Hi(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Kt=1,Jt=2,ee=3,Ki=4,Ye=5,xr=6378137,Ji=6356752314e-3,Mr=.0066943799901413165,_e=484813681109536e-20,Z=Math.PI/2,Xi=.16666666666666666,Qi=.04722222222222222,Vi=.022156084656084655,J=1e-10,wt=.017453292519943295,Lt=57.29577951308232,lt=Math.PI/4,ge=Math.PI*2,vt=3.14159265359,Ot={};Ot.greenwich=0;Ot.lisbon=-9.131906111111;Ot.paris=2.337229166667;Ot.bogota=-74.080916666667;Ot.madrid=-3.687938888889;Ot.rome=12.452333333333;Ot.bern=7.439583333333;Ot.jakarta=106.807719444444;Ot.ferro=-17.666666666667;Ot.brussels=4.367975;Ot.stockholm=18.058277777778;Ot.athens=23.7163375;Ot.oslo=10.722916666667;const Yi={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var wr=/[\s_\-\/\(\)]/g;function $t(t,e){if(t[e])return t[e];for(var r=Object.keys(t),n=e.toLowerCase().replace(wr,""),i=-1,a,h;++i<r.length;)if(a=r[i],h=a.toLowerCase().replace(wr,""),h===n)return t[a]}function tr(t){var e={},r=t.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,o){var u=o.split("=");return u.push(!0),s[u[0].toLowerCase()]=u[1],s},{}),n,i,a,h={proj:"projName",datum:"datumCode",rf:function(s){e.rf=parseFloat(s)},lat_0:function(s){e.lat0=s*wt},lat_1:function(s){e.lat1=s*wt},lat_2:function(s){e.lat2=s*wt},lat_ts:function(s){e.lat_ts=s*wt},lon_0:function(s){e.long0=s*wt},lon_1:function(s){e.long1=s*wt},lon_2:function(s){e.long2=s*wt},alpha:function(s){e.alpha=parseFloat(s)*wt},gamma:function(s){e.rectified_grid_angle=parseFloat(s)},lonc:function(s){e.longc=s*wt},x_0:function(s){e.x0=parseFloat(s)},y_0:function(s){e.y0=parseFloat(s)},k_0:function(s){e.k0=parseFloat(s)},k:function(s){e.k0=parseFloat(s)},a:function(s){e.a=parseFloat(s)},b:function(s){e.b=parseFloat(s)},r_a:function(){e.R_A=!0},zone:function(s){e.zone=parseInt(s,10)},south:function(){e.utmSouth=!0},towgs84:function(s){e.datum_params=s.split(",").map(function(o){return parseFloat(o)})},to_meter:function(s){e.to_meter=parseFloat(s)},units:function(s){e.units=s;var o=$t(Yi,s);o&&(e.to_meter=o.to_meter)},from_greenwich:function(s){e.from_greenwich=s*wt},pm:function(s){var o=$t(Ot,s);e.from_greenwich=(o||parseFloat(s))*wt},nadgrids:function(s){s==="@null"?e.datumCode="none":e.nadgrids=s},axis:function(s){var o="ewnsud";s.length===3&&o.indexOf(s.substr(0,1))!==-1&&o.indexOf(s.substr(1,1))!==-1&&o.indexOf(s.substr(2,1))!==-1&&(e.axis=s)},approx:function(){e.approx=!0}};for(n in r)i=r[n],n in h?(a=h[n],typeof a=="function"?a(i):e[a]=i):e[n]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var ye=1,Kr=2,Jr=3,Le=4,Xr=5,or=-1,ta=/\s/,ea=/[A-Za-z]/,ra=/[A-Za-z84_]/,$e=/[,\]]/,Qr=/[\d\.E\-\+]/;function qt(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ye}qt.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Le)for(;ta.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case ye:return this.neutral(t);case Kr:return this.keyword(t);case Le:return this.quoted(t);case Xr:return this.afterquote(t);case Jr:return this.number(t);case or:return}};qt.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Le;return}if($e.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};qt.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=ye;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=ye,this.currentObject=this.stack.pop(),this.currentObject||(this.state=or);return}};qt.prototype.number=function(t){if(Qr.test(t)){this.word+=t;return}if($e.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};qt.prototype.quoted=function(t){if(t==='"'){this.state=Xr;return}this.word+=t};qt.prototype.keyword=function(t){if(ra.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=ye;return}if($e.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};qt.prototype.neutral=function(t){if(ea.test(t)){this.word=t,this.state=Kr;return}if(t==='"'){this.word="",this.state=Le;return}if(Qr.test(t)){this.word=t,this.state=Jr;return}if($e.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};qt.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===or)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function ia(t){var e=new qt(t);return e.output()}function br(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce(function(a,h){return Qt(h,a),a},n);e&&(t[e]=i)}function Qt(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},Qt(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Qt(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Qt(t[3],e[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],br(e,r,t);return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return Qt(t,e[r]);return br(e,r,t)}}var aa=.017453292519943295;function sa(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],e.length===3&&(t[r]=e[2](t[r])))}function zt(t){return t*aa}function na(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",r=0,n=t.AXIS.length;r<n;++r){var i=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var a=t.GEOGCS;t.type==="GEOGCS"&&(a=t),a&&(a.DATUM?t.datumCode=a.DATUM.name.toLowerCase():t.datumCode=a.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(t.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=a.DATUM.SPHEROID.a,t.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(t.datum_params=a.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function h(u){var _=t.to_meter||1;return u*_}var s=function(u){return sa(t,u)},o=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",zt],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",zt],["x0","false_easting",h],["y0","false_northing",h],["long0","central_meridian",zt],["lat0","latitude_of_origin",zt],["lat0","standard_parallel_1",zt],["lat1","standard_parallel_1",zt],["lat2","standard_parallel_2",zt],["azimuth","Azimuth"],["alpha","azimuth",zt],["srsCode","name"]];o.forEach(s),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=zt(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=zt(t.lat0>0?90:-90))}function Vr(t){var e=ia(t),r=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",r]);var i={};return Qt(e,i),na(i),i}function St(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?St[t]=tr(arguments[1]):St[t]=Vr(arguments[1]):St[t]=r}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){Array.isArray(n)?St.apply(e,n):St(n)});if(typeof t=="string"){if(t in St)return St[t]}else"EPSG"in t?St["EPSG:"+t.EPSG]=t:"ESRI"in t?St["ESRI:"+t.ESRI]=t:"IAU2000"in t?St["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Hi(St);function ha(t){return typeof t=="string"}function oa(t){return t in St}var la=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function ua(t){return la.some(function(e){return t.indexOf(e)>-1})}var fa=["3857","900913","3785","102113"];function ca(t){var e=$t(t,"authority");if(e){var r=$t(e,"epsg");return r&&fa.indexOf(r)>-1}}function da(t){var e=$t(t,"extension");if(e)return $t(e,"proj4")}function ma(t){return t[0]==="+"}function va(t){if(ha(t)){if(oa(t))return St[t];if(ua(t)){var e=Vr(t);if(ca(e))return St["EPSG:3857"];var r=da(e);return r?tr(r):e}if(ma(t))return tr(t)}else return t}function Er(t,e){t=t||{};var r,n;if(!e)return t;for(n in e)r=e[n],r!==void 0&&(t[n]=r);return t}function Ut(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function we(t){return t<0?-1:1}function V(t){return Math.abs(t)<=vt?t:t-we(t)*ge}function Tt(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(Z-e))/n}function xe(t,e){for(var r=.5*t,n,i,a=Z-2*Math.atan(e),h=0;h<=15;h++)if(n=t*Math.sin(a),i=Z-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function pa(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ut(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function _a(t){var e=t.x,r=t.y;if(r*Lt>90&&r*Lt<-90&&e*Lt>180&&e*Lt<-180)return null;var n,i;if(Math.abs(Math.abs(r)-Z)<=J)return null;if(this.sphere)n=this.x0+this.a*this.k0*V(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(lt+.5*r));else{var a=Math.sin(r),h=Tt(this.e,r,a);n=this.x0+this.a*this.k0*V(e-this.long0),i=this.y0-this.a*this.k0*Math.log(h)}return t.x=n,t.y=i,t}function ga(t){var e=t.x-this.x0,r=t.y-this.y0,n,i;if(this.sphere)i=Z-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(i=xe(this.e,a),i===-9999)return null}return n=V(this.long0+e/(this.a*this.k0)),t.x=n,t.y=i,t}var ya=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const xa={init:pa,forward:_a,inverse:ga,names:ya};function Ma(){}function Cr(t){return t}var wa=["longlat","identity"];const ba={init:Ma,forward:Cr,inverse:Cr,names:wa};var Ea=[xa,ba],Re={},De=[];function Yr(t,e){var r=De.length;return t.names?(De[r]=t,t.names.forEach(function(n){Re[n.toLowerCase()]=r}),this):(console.log(e),!0)}function Ca(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Re[e]<"u"&&De[Re[e]])return De[Re[e]]}function Sa(){Ea.forEach(Yr)}const ka={start:Sa,add:Yr,get:Ca};var it={};it.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};it.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};it.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};it.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};it.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};it.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};it.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};it.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};it.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};it.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};it.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};it.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};it.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};it.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};it.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};it.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};it.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};it.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};it.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};it.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};it.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};it.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};it.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};it.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};it.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};it.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};it.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};it.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};it.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};it.hough={a:6378270,rf:297,ellipseName:"Hough"};it.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};it.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};it.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};it.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};it.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};it.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};it.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};it.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};it.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};it.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};it.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};it.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Aa=it.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};it.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function Ia(t,e,r,n){var i=t*t,a=e*e,h=(i-a)/i,s=0;n?(t*=1-h*(Xi+h*(Qi+h*Vi)),i=t*t,h=0):s=Math.sqrt(h);var o=(i-a)/a;return{es:h,e:s,ep2:o}}function Oa(t,e,r,n,i){if(!t){var a=$t(it,n);a||(a=Aa),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<J)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}var Mt={};Mt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Mt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Mt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Mt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Mt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Mt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Mt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Mt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Mt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Mt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Mt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Mt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Mt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Mt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Mt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Mt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Mt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function Na(t,e,r,n,i,a,h){var s={};return t===void 0||t==="none"?s.datum_type=Ye:s.datum_type=Ki,e&&(s.datum_params=e.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=Kt),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=Jt,s.datum_params[3]*=_e,s.datum_params[4]*=_e,s.datum_params[5]*=_e,s.datum_params[6]=s.datum_params[6]/1e6+1)),h&&(s.datum_type=ee,s.grids=h),s.a=r,s.b=n,s.es=i,s.ep2=a,s}var ti={};function Pa(t,e){var r=new DataView(e),n=Ra(r),i=Ba(r,n);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=za(r,i,n),h={header:i,subgrids:a};return ti[t]=h,h}function Fa(t){if(t===void 0)return null;var e=t.split(",");return e.map(Ta)}function Ta(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:ti[t]||null,isNull:!1}}function Vt(t){return t/3600*Math.PI/180}function Ra(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Ba(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:er(t,56,56+8).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function er(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function za(t,e,r){for(var n=176,i=[],a=0;a<e.nSubgrids;a++){var h=Da(t,n,r),s=Ua(t,n,h,r),o=Math.round(1+(h.upperLongitude-h.lowerLongitude)/h.longitudeInterval),u=Math.round(1+(h.upperLatitude-h.lowerLatitude)/h.latitudeInterval);i.push({ll:[Vt(h.lowerLongitude),Vt(h.lowerLatitude)],del:[Vt(h.longitudeInterval),Vt(h.latitudeInterval)],lim:[o,u],count:h.gridNodeCount,cvs:La(s)})}return i}function La(t){return t.map(function(e){return[Vt(e.longitudeShift),Vt(e.latitudeShift)]})}function Da(t,e,r){return{name:er(t,e+8,e+16).trim(),parent:er(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function Ua(t,e,r,n){for(var i=e+176,a=16,h=[],s=0;s<r.gridNodeCount;s++){var o={latitudeShift:t.getFloat32(i+s*a,n),longitudeShift:t.getFloat32(i+s*a+4,n),latitudeAccuracy:t.getFloat32(i+s*a+8,n),longitudeAccuracy:t.getFloat32(i+s*a+12,n)};h.push(o)}return h}function Dt(t,e){if(!(this instanceof Dt))return new Dt(t);e=e||function(u){if(u)throw u};var r=va(t);if(typeof r!="object"){e(t);return}var n=Dt.projections.get(r.projName);if(!n){e(t);return}if(r.datumCode&&r.datumCode!=="none"){var i=$t(Mt,r.datumCode);i&&(r.datum_params=r.datum_params||(i.towgs84?i.towgs84.split(","):null),r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var a=Oa(r.a,r.b,r.rf,r.ellps,r.sphere),h=Ia(a.a,a.b,a.rf,r.R_A),s=Fa(r.nadgrids),o=r.datum||Na(r.datumCode,r.datum_params,a.a,a.b,h.es,h.ep2,s);Er(this,r),Er(this,n),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=h.es,this.e=h.e,this.ep2=h.ep2,this.datum=o,this.init(),e(null,this)}Dt.projections=ka;Dt.projections.start();function ja(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Kt?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Jt?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function ei(t,e,r){var n=t.x,i=t.y,a=t.z?t.z:0,h,s,o,u;if(i<-Z&&i>-1.001*Z)i=-Z;else if(i>Z&&i<1.001*Z)i=Z;else{if(i<-Z)return{x:-1/0,y:-1/0,z:t.z};if(i>Z)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),s=Math.sin(i),u=Math.cos(i),o=s*s,h=r/Math.sqrt(1-e*o),{x:(h+a)*u*Math.cos(n),y:(h+a)*u*Math.sin(n),z:(h*(1-e)+a)*s}}function ri(t,e,r,n){var i=1e-12,a=i*i,h=30,s,o,u,_,m,M,l,p,c,x,w,b,k,O=t.x,I=t.y,F=t.z?t.z:0,B,U,z;if(s=Math.sqrt(O*O+I*I),o=Math.sqrt(O*O+I*I+F*F),s/r<i){if(B=0,o/r<i)return U=Z,z=-n,{x:t.x,y:t.y,z:t.z}}else B=Math.atan2(I,O);u=F/o,_=s/o,m=1/Math.sqrt(1-e*(2-e)*_*_),p=_*(1-e)*m,c=u*m,k=0;do k++,l=r/Math.sqrt(1-e*c*c),z=s*p+F*c-l*(1-e*c*c),M=e*l/(l+z),m=1/Math.sqrt(1-M*(2-M)*_*_),x=_*(1-M)*m,w=u*m,b=w*p-x*c,p=x,c=w;while(b*b>a&&k<h);return U=Math.atan(w/Math.abs(x)),{x:B,y:U,z}}function qa(t,e,r){if(e===Kt)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===Jt){var n=r[0],i=r[1],a=r[2],h=r[3],s=r[4],o=r[5],u=r[6];return{x:u*(t.x-o*t.y+s*t.z)+n,y:u*(o*t.x+t.y-h*t.z)+i,z:u*(-s*t.x+h*t.y+t.z)+a}}}function Ga(t,e,r){if(e===Kt)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===Jt){var n=r[0],i=r[1],a=r[2],h=r[3],s=r[4],o=r[5],u=r[6],_=(t.x-n)/u,m=(t.y-i)/u,M=(t.z-a)/u;return{x:_+o*m-s*M,y:-o*_+m+h*M,z:s*_-h*m+M}}}function Ne(t){return t===Kt||t===Jt}function $a(t,e,r){if(ja(t,e)||t.datum_type===Ye||e.datum_type===Ye)return r;var n=t.a,i=t.es;if(t.datum_type===ee){var a=Sr(t,!1,r);if(a!==0)return;n=xr,i=Mr}var h=e.a,s=e.b,o=e.es;if(e.datum_type===ee&&(h=xr,s=Ji,o=Mr),i===o&&n===h&&!Ne(t.datum_type)&&!Ne(e.datum_type))return r;if(r=ei(r,i,n),Ne(t.datum_type)&&(r=qa(r,t.datum_type,t.datum_params)),Ne(e.datum_type)&&(r=Ga(r,e.datum_type,e.datum_params)),r=ri(r,o,h,s),e.datum_type===ee){var u=Sr(e,!0,r);if(u!==0)return}return r}function Sr(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},a=[],h=0;h<t.grids.length;h++){var s=t.grids[h];if(a.push(s.name),s.isNull){i=n;break}if(s.mandatory,s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}var o=s.grid.subgrids[0],u=(Math.abs(o.del[1])+Math.abs(o.del[0]))/1e4,_=o.ll[0]-u,m=o.ll[1]-u,M=o.ll[0]+(o.lim[0]-1)*o.del[0]+u,l=o.ll[1]+(o.lim[1]-1)*o.del[1]+u;if(!(m>n.y||_>n.x||l<n.y||M<n.x)&&(i=Wa(n,e,o),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*Lt+" "+n.y*Lt+" tried: '"+a+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function Wa(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=V(i.x-Math.PI)+Math.PI;var a=kr(i,r);if(e){if(isNaN(a.x))return n;a.x=i.x-a.x,a.y=i.y-a.y;var h=9,s=1e-12,o,u;do{if(u=kr(a,r),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}o={x:i.x-(u.x+a.x),y:i.y-(u.y+a.y)},a.x+=o.x,a.y+=o.y}while(h--&&Math.abs(o.x)>s&&Math.abs(o.y)>s);if(h<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=V(a.x+r.ll[0]),n.y=a.y+r.ll[1]}else isNaN(a.x)||(n.x=t.x+a.x,n.y=t.y+a.y);return n}function kr(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},i={x:r.x-1*n.x,y:r.y-1*n.y},a={x:Number.NaN,y:Number.NaN},h;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return a;h=n.y*e.lim[0]+n.x;var s={x:e.cvs[h][0],y:e.cvs[h][1]};h++;var o={x:e.cvs[h][0],y:e.cvs[h][1]};h+=e.lim[0];var u={x:e.cvs[h][0],y:e.cvs[h][1]};h--;var _={x:e.cvs[h][0],y:e.cvs[h][1]},m=i.x*i.y,M=i.x*(1-i.y),l=(1-i.x)*(1-i.y),p=(1-i.x)*i.y;return a.x=l*s.x+M*o.x+p*_.x+m*u.x,a.y=l*s.y+M*o.y+p*_.y+m*u.y,a}function Ar(t,e,r){var n=r.x,i=r.y,a=r.z||0,h,s,o,u={};for(o=0;o<3;o++)if(!(e&&o===2&&r.z===void 0))switch(o===0?(h=n,"ew".indexOf(t.axis[o])!==-1?s="x":s="y"):o===1?(h=i,"ns".indexOf(t.axis[o])!==-1?s="y":s="x"):(h=a,s="z"),t.axis[o]){case"e":u[s]=h;break;case"w":u[s]=-h;break;case"n":u[s]=h;break;case"s":u[s]=-h;break;case"u":r[s]!==void 0&&(u.z=h);break;case"d":r[s]!==void 0&&(u.z=-h);break;default:return null}return u}function ii(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function Za(t){Ir(t.x),Ir(t.y)}function Ir(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Ha(t,e){return(t.datum.datum_type===Kt||t.datum.datum_type===Jt||t.datum.datum_type===ee)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Kt||e.datum.datum_type===Jt||e.datum.datum_type===ee)&&t.datumCode!=="WGS84"}function Ue(t,e,r,n){var i;Array.isArray(r)?r=ii(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var a=r.z!==void 0;if(Za(r),t.datum&&e.datum&&Ha(t,e)&&(i=new Dt("WGS84"),r=Ue(t,i,r,n),t=i),n&&t.axis!=="enu"&&(r=Ar(t,!1,r)),t.projName==="longlat")r={x:r.x*wt,y:r.y*wt,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=$a(t.datum,e.datum,r),!!r)return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*Lt,y:r.y*Lt,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&e.axis!=="enu"?Ar(e,!0,r):(a||delete r.z,r)}var Or=Dt("WGS84");function Je(t,e,r,n){var i,a,h;return Array.isArray(r)?(i=Ue(t,e,r,n)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(r.splice(3)):[i.x,i.y,r[2]].concat(r.splice(3)):[i.x,i.y].concat(r.splice(2)):[i.x,i.y]):(a=Ue(t,e,r,n),h=Object.keys(r),h.length===2||h.forEach(function(s){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;a[s]=r[s]}),a)}function Nr(t){return t instanceof Dt?t:t.oProj?t.oProj:Dt(t)}function Nt(t,e,r){t=Nr(t);var n=!1,i;return typeof e>"u"?(e=t,t=Or,n=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,e=t,t=Or,n=!0),e=Nr(e),r?Je(t,e,r):(i={forward:function(a,h){return Je(t,e,a,h)},inverse:function(a,h){return Je(e,t,a,h)}},n&&(i.oProj=e),i)}var Pr=6,ai="AJSAJS",si="AFAFAF",Yt=65,It=73,Pt=79,fe=86,ce=90;const Ka={forward:ni,inverse:Ja,toPoint:hi};function ni(t,e){return e=e||5,Va(Xa({lat:t[1],lon:t[0]}),e)}function Ja(t){var e=lr(li(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function hi(t){var e=lr(li(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Xe(t){return t*(Math.PI/180)}function Fr(t){return 180*(t/Math.PI)}function Xa(t){var e=t.lat,r=t.lon,n=6378137,i=.00669438,a=.9996,h,s,o,u,_,m,M,l=Xe(e),p=Xe(r),c,x;x=Math.floor((r+180)/6)+1,r===180&&(x=60),e>=56&&e<64&&r>=3&&r<12&&(x=32),e>=72&&e<84&&(r>=0&&r<9?x=31:r>=9&&r<21?x=33:r>=21&&r<33?x=35:r>=33&&r<42&&(x=37)),h=(x-1)*6-180+3,c=Xe(h),s=i/(1-i),o=n/Math.sqrt(1-i*Math.sin(l)*Math.sin(l)),u=Math.tan(l)*Math.tan(l),_=s*Math.cos(l)*Math.cos(l),m=Math.cos(l)*(p-c),M=n*((1-i/4-3*i*i/64-5*i*i*i/256)*l-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*l)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*l)-35*i*i*i/3072*Math.sin(6*l));var w=a*o*(m+(1-u+_)*m*m*m/6+(5-18*u+u*u+72*_-58*s)*m*m*m*m*m/120)+5e5,b=a*(M+o*Math.tan(l)*(m*m/2+(5-u+9*_+4*_*_)*m*m*m*m/24+(61-58*u+u*u+600*_-330*s)*m*m*m*m*m*m/720));return e<0&&(b+=1e7),{northing:Math.round(b),easting:Math.round(w),zoneNumber:x,zoneLetter:Qa(e)}}function lr(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a=.9996,h=6378137,s=.00669438,o,u=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),_,m,M,l,p,c,x,w,b,k=r-5e5,O=e;n<"N"&&(O-=1e7),x=(i-1)*6-180+3,o=s/(1-s),c=O/a,w=c/(h*(1-s/4-3*s*s/64-5*s*s*s/256)),b=w+(3*u/2-27*u*u*u/32)*Math.sin(2*w)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*w)+151*u*u*u/96*Math.sin(6*w),_=h/Math.sqrt(1-s*Math.sin(b)*Math.sin(b)),m=Math.tan(b)*Math.tan(b),M=o*Math.cos(b)*Math.cos(b),l=h*(1-s)/Math.pow(1-s*Math.sin(b)*Math.sin(b),1.5),p=k/(_*a);var I=b-_*Math.tan(b)/l*(p*p/2-(5+3*m+10*M-4*M*M-9*o)*p*p*p*p/24+(61+90*m+298*M+45*m*m-252*o-3*M*M)*p*p*p*p*p*p/720);I=Fr(I);var F=(p-(1+2*m+M)*p*p*p/6+(5-2*M+28*m-3*M*M+8*o+24*m*m)*p*p*p*p*p/120)/Math.cos(b);F=x+Fr(F);var B;if(t.accuracy){var U=lr({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});B={top:U.lat,right:U.lon,bottom:I,left:F}}else B={lat:I,lon:F};return B}function Qa(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Va(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+Ya(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function Ya(t,e,r){var n=oi(r),i=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return ts(i,a,n)}function oi(t){var e=t%Pr;return e===0&&(e=Pr),e}function ts(t,e,r){var n=r-1,i=ai.charCodeAt(n),a=si.charCodeAt(n),h=i+t-1,s=a+e,o=!1;h>ce&&(h=h-ce+Yt-1,o=!0),(h===It||i<It&&h>It||(h>It||i<It)&&o)&&h++,(h===Pt||i<Pt&&h>Pt||(h>Pt||i<Pt)&&o)&&(h++,h===It&&h++),h>ce&&(h=h-ce+Yt-1),s>fe?(s=s-fe+Yt-1,o=!0):o=!1,(s===It||a<It&&s>It||(s>It||a<It)&&o)&&s++,(s===Pt||a<Pt&&s>Pt||(s>Pt||a<Pt)&&o)&&(s++,s===It&&s++),s>fe&&(s=s-fe+Yt-1);var u=String.fromCharCode(h)+String.fromCharCode(s);return u}function li(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",i,a=0;!/[A-Z]/.test(i=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;n+=i,a++}var h=parseInt(n,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(a++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(a,a+=2);for(var o=oi(h),u=es(r.charAt(0),o),_=rs(r.charAt(1),o);_<is(s);)_+=2e6;var m=e-a;if(m%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var M=m/2,l=0,p=0,c,x,w,b,k;return M>0&&(c=1e5/Math.pow(10,M),x=t.substring(a,a+M),l=parseFloat(x)*c,w=t.substring(a+M),p=parseFloat(w)*c),b=l+u,k=p+_,{easting:b,northing:k,zoneLetter:s,zoneNumber:h,accuracy:c}}function es(t,e){for(var r=ai.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(r++,r===It&&r++,r===Pt&&r++,r>ce){if(i)throw"Bad character: "+t;r=Yt,i=!0}n+=1e5}return n}function rs(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=si.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(r++,r===It&&r++,r===Pt&&r++,r>fe){if(i)throw"Bad character: "+t;r=Yt,i=!0}n+=1e5}return n}function is(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function ae(t,e,r){if(!(this instanceof ae))return new ae(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ae.fromMGRS=function(t){return new ae(hi(t))};ae.prototype.toMGRS=function(t){return ni([this.x,this.y],t)};var as=1,ss=.25,Tr=.046875,Rr=.01953125,Br=.01068115234375,ns=.75,hs=.46875,os=.013020833333333334,ls=.007120768229166667,us=.3645833333333333,fs=.005696614583333333,cs=.3076171875;function ui(t){var e=[];e[0]=as-t*(ss+t*(Tr+t*(Rr+t*Br))),e[1]=t*(ns-t*(Tr+t*(Rr+t*Br)));var r=t*t;return e[2]=r*(hs-t*(os+t*ls)),r*=t,e[3]=r*(us-t*fs),e[4]=r*t*cs,e}function We(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var ds=20;function fi(t,e,r){for(var n=1/(1-e),i=t,a=ds;a;--a){var h=Math.sin(i),s=1-e*h*h;if(s=(We(i,h,Math.cos(i),r)-t)*(s*Math.sqrt(s))*n,i-=s,Math.abs(s)<J)return i}return i}function ms(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=ui(this.es),this.ml0=We(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function vs(t){var e=t.x,r=t.y,n=V(e-this.long0),i,a,h,s=Math.sin(r),o=Math.cos(r);if(this.es){var _=o*n,m=Math.pow(_,2),M=this.ep2*Math.pow(o,2),l=Math.pow(M,2),p=Math.abs(o)>J?Math.tan(r):0,c=Math.pow(p,2),x=Math.pow(c,2);i=1-this.es*Math.pow(s,2),_=_/Math.sqrt(i);var w=We(r,s,o,this.en);a=this.a*(this.k0*_*(1+m/6*(1-c+M+m/20*(5-18*c+x+14*M-58*c*M+m/42*(61+179*x-x*c-479*c)))))+this.x0,h=this.a*(this.k0*(w-this.ml0+s*n*_/2*(1+m/12*(5-c+9*M+4*l+m/30*(61+x-58*c+270*M-330*c*M+m/56*(1385+543*x-x*c-3111*c))))))+this.y0}else{var u=o*Math.sin(n);if(Math.abs(Math.abs(u)-1)<J)return 93;if(a=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,h=o*Math.cos(n)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(h),u>=1){if(u-1>J)return 93;h=0}else h=Math.acos(h);r<0&&(h=-h),h=this.a*this.k0*(h-this.lat0)+this.y0}return t.x=a,t.y=h,t}function ps(t){var e,r,n,i,a=(t.x-this.x0)*(1/this.a),h=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+h/this.k0,r=fi(e,this.es,this.en),Math.abs(r)<Z){var m=Math.sin(r),M=Math.cos(r),l=Math.abs(M)>J?Math.tan(r):0,p=this.ep2*Math.pow(M,2),c=Math.pow(p,2),x=Math.pow(l,2),w=Math.pow(x,2);e=1-this.es*Math.pow(m,2);var b=a*Math.sqrt(e)/this.k0,k=Math.pow(b,2);e=e*l,n=r-e*k/(1-this.es)*.5*(1-k/12*(5+3*x-9*p*x+p-4*c-k/30*(61+90*x-252*p*x+45*w+46*p-k/56*(1385+3633*x+4095*w+1574*w*x)))),i=V(this.long0+b*(1-k/6*(1+2*x+p-k/20*(5+28*x+24*w+8*p*x+6*p-k/42*(61+662*x+1320*w+720*w*x))))/M)}else n=Z*we(h),i=0;else{var s=Math.exp(a/this.k0),o=.5*(s-1/s),u=this.lat0+h/this.k0,_=Math.cos(u);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(o,2))),n=Math.asin(e),h<0&&(n=-n),o===0&&_===0?i=0:i=V(Math.atan2(o,_)+this.long0)}return t.x=i,t.y=n,t}var _s=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Be={init:ms,forward:vs,inverse:ps,names:_s};function ci(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Ft(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function gs(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function ys(t){var e=Math.abs(t);return e=gs(e*(1+e/(Ft(1,e)+1))),t<0?-e:e}function ur(t,e){for(var r=2*Math.cos(2*e),n=t.length-1,i=t[n],a=0,h;--n>=0;)h=-a+r*i+t[n],a=i,i=h;return e+h*Math.sin(2*e)}function xs(t,e){for(var r=2*Math.cos(e),n=t.length-1,i=t[n],a=0,h;--n>=0;)h=-a+r*i+t[n],a=i,i=h;return Math.sin(e)*h}function Ms(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function di(t,e,r){for(var n=Math.sin(e),i=Math.cos(e),a=ci(r),h=Ms(r),s=2*i*h,o=-2*n*a,u=t.length-1,_=t[u],m=0,M=0,l=0,p,c;--u>=0;)p=M,c=m,M=_,m=l,_=-p+s*M-o*m+t[u],l=-c+o*M+s*m;return s=n*h,o=i*a,[s*_-o*l,s*l+o*_]}function ws(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Be.init.apply(this),this.forward=Be.forward,this.inverse=Be.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=ur(this.cbg,this.lat0);this.Zb=-this.Qn*(n+xs(this.gtu,2*n))}function bs(t){var e=V(t.x-this.long0),r=t.y;r=ur(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),a=Math.sin(e),h=Math.cos(e);r=Math.atan2(n,h*i),e=Math.atan2(a*i,Ft(n,i*h)),e=ys(Math.tan(e));var s=di(this.gtu,2*r,2*e);r=r+s[0],e=e+s[1];var o,u;return Math.abs(e)<=2.623395162778?(o=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*r+this.Zb)+this.y0):(o=1/0,u=1/0),t.x=o,t.y=u,t}function Es(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var n,i;if(Math.abs(e)<=2.623395162778){var a=di(this.utg,2*r,2*e);r=r+a[0],e=e+a[1],e=Math.atan(ci(e));var h=Math.sin(r),s=Math.cos(r),o=Math.sin(e),u=Math.cos(e);r=Math.atan2(h*u,Ft(o,u*s)),e=Math.atan2(o,u*s),n=V(e+this.long0),i=ur(this.cgb,r)}else n=1/0,i=1/0;return t.x=n,t.y=i,t}var Cs=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const ze={init:ws,forward:bs,inverse:Es,names:Cs};function Ss(t,e){if(t===void 0){if(t=Math.floor((V(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var ks="etmerc";function As(){var t=Ss(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*wt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ze.init.apply(this),this.forward=ze.forward,this.inverse=ze.inverse}var Is=["Universal Transverse Mercator System","utm"];const Os={init:As,names:Is,dependsOn:ks};function fr(t,e){return Math.pow((1-t)/(1+t),e)}var Ns=20;function Ps(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+lt)/(Math.pow(Math.tan(.5*this.lat0+lt),this.C)*fr(this.e*t,this.ratexp))}function Fs(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+lt),this.C)*fr(this.e*Math.sin(r),this.ratexp))-Z,t.x=this.C*e,t}function Ts(t){for(var e=1e-14,r=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+lt)/this.K,1/this.C),a=Ns;a>0&&(n=2*Math.atan(i*fr(this.e*Math.sin(t.y),-.5*this.e))-Z,!(Math.abs(n-t.y)<e));--a)t.y=n;return a?(t.x=r,t.y=n,t):null}var Rs=["gauss"];const cr={init:Ps,forward:Fs,inverse:Ts,names:Rs};function Bs(){cr.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function zs(t){var e,r,n,i;return t.x=V(t.x-this.long0),cr.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Ls(t){var e,r,n,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(a,this.R2);e=Math.sin(h),r=Math.cos(h),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,cr.inverse.apply(this,[t]),t.x=V(t.x+this.long0),t}var Ds=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Us={init:Bs,forward:zs,inverse:Ls,names:Ds};function js(t,e,r){return e*=r,Math.tan(.5*(Z+t))*Math.pow((1-e)/(1+e),.5*r)}function qs(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=J&&(this.k0=.5*(1+we(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=J&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=J&&(this.k0=.5*this.cons*Ut(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Tt(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ut(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Z,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Gs(t){var e=t.x,r=t.y,n=Math.sin(r),i=Math.cos(r),a,h,s,o,u,_,m=V(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=J&&Math.abs(r+this.lat0)<=J?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(m)),t.x=this.a*a*i*Math.sin(m)+this.x0,t.y=this.a*a*(this.coslat0*n-this.sinlat0*i*Math.cos(m))+this.y0,t):(h=2*Math.atan(this.ssfn_(r,n,this.e))-Z,o=Math.cos(h),s=Math.sin(h),Math.abs(this.coslat0)<=J?(u=Tt(this.e,r*this.con,this.con*n),_=2*this.a*this.k0*u/this.cons,t.x=this.x0+_*Math.sin(e-this.long0),t.y=this.y0-this.con*_*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<J?(a=2*this.a*this.k0/(1+o*Math.cos(m)),t.y=a*s):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*o*Math.cos(m))),t.y=a*(this.cosX0*s-this.sinX0*o*Math.cos(m))+this.y0),t.x=a*o*Math.sin(m)+this.x0,t))}function $s(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,h=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(h/(2*this.a*this.k0));return e=this.long0,r=this.lat0,h<=J?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/h),Math.abs(this.coslat0)<J?this.lat0>0?e=V(this.long0+Math.atan2(t.x,-1*t.y)):e=V(this.long0+Math.atan2(t.x,t.y)):e=V(this.long0+Math.atan2(t.x*Math.sin(s),h*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=J){if(h<=J)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=h*this.cons/(2*this.a*this.k0),r=this.con*xe(this.e,n),e=this.con*V(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(h*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,h<=J?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/h),e=V(this.long0+Math.atan2(t.x*Math.sin(i),h*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),r=-1*xe(this.e,Math.tan(.5*(Z+a)));return t.x=e,t.y=r,t}var Ws=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const Zs={init:qs,forward:Gs,inverse:$s,names:Ws,ssfn_:js};function Hs(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=this.rf,i=1/n,a=2*i-Math.pow(i,2),h=this.e=Math.sqrt(a);this.R=this.k0*r*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+h*e)/(1-h*e));this.K=s-this.alpha*o+this.alpha*h/2*u}function Ks(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),h=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*h+this.x0,t}function Js(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),h=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+h/this.alpha,o=0,u=a,_=-1e3,m=0;Math.abs(u-_)>1e-7;){if(++m>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),_=u,u=2*Math.atan(Math.exp(o))-Math.PI/2}return t.x=s,t.y=u,t}var Xs=["somerc"];const Qs={init:Hs,forward:Ks,inverse:Js,names:Xs};var Xt=1e-7;function Vs(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1}function Ys(){var t,e,r,n,i,a,h,s,o,u,_=0,m,M=0,l=0,p=0,c=0,x=0,w=0;this.no_off=Vs(this),this.no_rot="no_rot"in this;var b=!1;"alpha"in this&&(b=!0);var k=!1;if("rectified_grid_angle"in this&&(k=!0),b&&(w=this.alpha),k&&(_=this.rectified_grid_angle*wt),b||k)M=this.longc;else if(l=this.long1,c=this.lat1,p=this.long2,x=this.lat2,Math.abs(c-x)<=Xt||(t=Math.abs(c))<=Xt||Math.abs(t-Z)<=Xt||Math.abs(Math.abs(this.lat0)-Z)<=Xt||Math.abs(Math.abs(x)-Z)<=Xt)throw new Error;var O=1-this.es;e=Math.sqrt(O),Math.abs(this.lat0)>J?(s=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*s*s,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/O),this.A=this.B*this.k0*e/t,n=this.B*e/(r*Math.sqrt(t)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(Tt(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),b||k?(b?(m=Math.asin(Math.sin(w)/n),k||(_=w)):(m=_,w=Math.asin(n*Math.sin(m))),this.lam0=M-Math.asin(.5*(i-1/i)*Math.tan(m))/this.B):(a=Math.pow(Tt(this.e,c,Math.sin(c)),this.B),h=Math.pow(Tt(this.e,x,Math.sin(x)),this.B),i=this.E/a,o=(h-a)/(h+a),u=this.E*this.E,u=(u-h*a)/(u+h*a),t=l-p,t<-Math.pi?p-=ge:t>Math.pi&&(p+=ge),this.lam0=V(.5*(l+p)-Math.atan(u*Math.tan(.5*this.B*(l-p))/o)/this.B),m=Math.atan(2*Math.sin(this.B*V(l-this.lam0))/(i-1/i)),_=w=Math.asin(n*Math.sin(m))),this.singam=Math.sin(m),this.cosgam=Math.cos(m),this.sinrot=Math.sin(_),this.cosrot=Math.cos(_),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*m,this.v_pole_n=this.ArB*Math.log(Math.tan(lt-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(lt+i))}function tn(t){var e={},r,n,i,a,h,s,o,u;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Z)>J){if(h=this.E/Math.pow(Tt(this.e,t.y,Math.sin(t.y)),this.B),s=1/h,r=.5*(h-s),n=.5*(h+s),a=Math.sin(this.B*t.x),i=(r*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(i)-1)<J)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*t.x),Math.abs(s)<Xt?o=this.A*t.x:o=this.ArB*Math.atan2(r*this.cosgam+a*this.singam,s)}else u=t.y>0?this.v_pole_n:this.v_pole_s,o=this.ArB*t.y;return this.no_rot?(e.x=o,e.y=u):(o-=this.u_0,e.x=u*this.cosrot+o*this.sinrot,e.y=o*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function en(t){var e,r,n,i,a,h,s,o={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),i=.5*(n-1/n),a=.5*(n+1/n),h=Math.sin(this.BrA*e),s=(h*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(s)-1)<J)o.x=0,o.y=s<0?-Z:Z;else{if(o.y=this.E/Math.sqrt((1+s)/(1-s)),o.y=xe(this.e,Math.pow(o.y,1/this.B)),o.y===1/0)throw new Error;o.x=-this.rB*Math.atan2(i*this.cosgam-h*this.singam,Math.cos(this.BrA*e))}return o.x+=this.lam0,o}var rn=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const an={init:Ys,forward:tn,inverse:en,names:rn};function sn(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<J)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=Ut(this.e,e,r),i=Tt(this.e,this.lat1,e),a=Math.sin(this.lat2),h=Math.cos(this.lat2),s=Ut(this.e,a,h),o=Tt(this.e,this.lat2,a),u=Tt(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>J?this.ns=Math.log(n/s)/Math.log(i/o):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function nn(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=J&&(r=we(r)*(Z-2*J));var n=Math.abs(Math.abs(r)-Z),i,a;if(n>J)i=Tt(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(n=r*this.ns,n<=0)return null;a=0}var h=this.ns*V(e-this.long0);return t.x=this.k0*(a*Math.sin(h))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(h))+this.y0,t}function hn(t){var e,r,n,i,a,h=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(h*h+s*s),r=1):(e=-Math.sqrt(h*h+s*s),r=-1);var o=0;if(e!==0&&(o=Math.atan2(r*h,r*s)),e!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),i=xe(this.e,n),i===-9999)return null}else i=-Z;return a=V(o/this.ns+this.long0),t.x=a,t.y=i,t}var on=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const ln={init:sn,forward:nn,inverse:hn,names:on};function un(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function fn(t){var e,r,n,i,a,h,s,o=t.x,u=t.y,_=V(o-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),n=-_*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),h=this.n*a,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(h)/1,t.x=s*Math.sin(h)/1,this.czech||(t.y*=-1,t.x*=-1),t}function cn(t){var e,r,n,i,a,h,s,o,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),h=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),i=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/h,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,s=e,o=0;var _=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(o=1),s=t.y,_+=1;while(o===0&&_<15);return _>=15?null:t}var dn=["Krovak","krovak"];const mn={init:un,forward:fn,inverse:cn,names:dn};function kt(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function be(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Ee(t){return .375*t*(1+.25*t*(1+.46875*t))}function Ce(t){return .05859375*t*t*(1+.75*t)}function Se(t){return t*t*t*(35/3072)}function se(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function ne(t){return Math.abs(t)<Z?t:t-we(t)*Math.PI}function je(t,e,r,n,i){var a,h;a=t/e;for(var s=0;s<15;s++)if(h=(t-(e*a-r*Math.sin(2*a)+n*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*r*Math.cos(2*a)+4*n*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=h,Math.abs(h)<=1e-10)return a;return NaN}function vn(){this.sphere||(this.e0=be(this.es),this.e1=Ee(this.es),this.e2=Ce(this.es),this.e3=Se(this.es),this.ml0=this.a*kt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function pn(t){var e,r,n=t.x,i=t.y;if(n=V(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var a=Math.sin(i),h=Math.cos(i),s=se(this.a,this.e,a),o=Math.tan(i)*Math.tan(i),u=n*Math.cos(i),_=u*u,m=this.es*h*h/(1-this.es),M=this.a*kt(this.e0,this.e1,this.e2,this.e3,i);e=s*u*(1-_*o*(1/6-(8-o+8*m)*_/120)),r=M-this.ml0+s*a/h*_*(.5+(5-o+6*m)*_/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function _n(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i;if(this.sphere){var a=r+this.lat0;n=Math.asin(Math.sin(a)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(a))}else{var h=this.ml0/this.a+r,s=je(h,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Z)<=J)return t.x=this.long0,t.y=Z,r<0&&(t.y*=-1),t;var o=se(this.a,this.e,Math.sin(s)),u=o*o*o/this.a/this.a*(1-this.es),_=Math.pow(Math.tan(s),2),m=e*this.a/o,M=m*m;n=s-o*Math.tan(s)/u*m*m*(.5-(1+3*_)*m*m/24),i=m*(1-M*(_/3+(1+3*_)*_*M/15))/Math.cos(s)}return t.x=V(i+this.long0),t.y=ne(n),t}var gn=["Cassini","Cassini_Soldner","cass"];const yn={init:vn,forward:pn,inverse:_n,names:gn};function Gt(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var xn=1,Mn=2,wn=3,bn=4;function En(){var t=Math.abs(this.lat0);if(Math.abs(t-Z)<J?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<J?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Gt(this.e,1),this.mmf=.5/(1-this.es),this.apa=Fn(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Gt(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Cn(t){var e,r,n,i,a,h,s,o,u,_,m=t.x,M=t.y;if(m=V(m-this.long0),this.sphere){if(a=Math.sin(M),_=Math.cos(M),n=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+_*n:1+this.sinph0*a+this.cosph0*_*n,r<=J)return null;r=Math.sqrt(2/r),e=r*_*Math.sin(m),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*_*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(M+this.lat0)<J)return null;r=lt-M*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(m),r*=n}}else{switch(s=0,o=0,u=0,n=Math.cos(m),i=Math.sin(m),a=Math.sin(M),h=Gt(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=h/this.qp,o=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*o*n;break;case this.EQUIT:u=1+o*n;break;case this.N_POLE:u=Z+M,h=this.qp-h;break;case this.S_POLE:u=M-Z,h=this.qp+h;break}if(Math.abs(u)<J)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?r=this.ymf*u*(this.cosb1*s-this.sinb1*o*n):r=(u=Math.sqrt(2/(1+o*n)))*s*this.ymf,e=this.xmf*u*o*i;break;case this.N_POLE:case this.S_POLE:h>=0?(e=(u=Math.sqrt(h))*i,r=n*(this.mode===this.S_POLE?u:-u)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function Sn(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i,a,h,s,o,u;if(this.sphere){var _=0,m,M=0;if(m=Math.sqrt(e*e+r*r),i=m*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(M=Math.sin(i),_=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(m)<=J?0:Math.asin(r*M/m),e*=M,r=_*m;break;case this.OBLIQ:i=Math.abs(m)<=J?this.lat0:Math.asin(_*this.sinph0+r*M*this.cosph0/m),e*=M*this.cosph0,r=(_-Math.sin(i)*this.sinph0)*m;break;case this.N_POLE:r=-r,i=Z-i;break;case this.S_POLE:i-=Z;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,o=Math.sqrt(e*e+r*r),o<J)return t.x=this.long0,t.y=this.lat0,t;h=2*Math.asin(.5*o/this.rq),a=Math.cos(h),e*=h=Math.sin(h),this.mode===this.OBLIQ?(u=a*this.sinb1+r*h*this.cosb1/o,s=this.qp*u,r=o*this.cosb1*a-r*this.sinb1*h):(u=r*h/o,s=this.qp*u,r=o*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),s=e*e+r*r,!s)return t.x=this.long0,t.y=this.lat0,t;u=1-s/this.qp,this.mode===this.S_POLE&&(u=-u)}n=Math.atan2(e,r),i=Tn(Math.asin(u),this.apa)}return t.x=V(this.long0+n),t.y=i,t}var kn=.3333333333333333,An=.17222222222222222,In=.10257936507936508,On=.06388888888888888,Nn=.0664021164021164,Pn=.016415012942191543;function Fn(t){var e,r=[];return r[0]=t*kn,e=t*t,r[0]+=e*An,r[1]=e*On,e*=t,r[0]+=e*In,r[1]+=e*Nn,r[2]=e*Pn,r}function Tn(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var Rn=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Bn={init:En,forward:Cn,inverse:Sn,names:Rn,S_POLE:xn,N_POLE:Mn,EQUIT:wn,OBLIQ:bn};function Wt(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function zn(){Math.abs(this.lat1+this.lat2)<J||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ut(this.e3,this.sin_po,this.cos_po),this.qs1=Gt(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ut(this.e3,this.sin_po,this.cos_po),this.qs2=Gt(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Gt(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>J?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Ln(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=Gt(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*V(e-this.long0),h=i*Math.sin(a)+this.x0,s=this.rh-i*Math.cos(a)+this.y0;return t.x=h,t.y=s,t}function Dn(t){var e,r,n,i,a,h;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,e!==0&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?h=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,h=this.phi1z(this.e3,r)),a=V(i/this.ns0+this.long0),t.x=a,t.y=h,t}function Un(t,e){var r,n,i,a,h,s=Wt(.5*e);if(t<J)return s;for(var o=t*t,u=1;u<=25;u++)if(r=Math.sin(s),n=Math.cos(s),i=t*r,a=1-i*i,h=.5*a*a/n*(e/(1-o)-r/a+.5/t*Math.log((1-i)/(1+i))),s=s+h,Math.abs(h)<=1e-7)return s;return null}var jn=["Albers_Conic_Equal_Area","Albers","aea"];const qn={init:zn,forward:Ln,inverse:Dn,names:jn,phi1z:Un};function Gn(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function $n(t){var e,r,n,i,a,h,s,o,u=t.x,_=t.y;return n=V(u-this.long0),e=Math.sin(_),r=Math.cos(_),i=Math.cos(n),h=this.sin_p14*e+this.cos_p14*r*i,a=1,h>0||Math.abs(h)<=J?(s=this.x0+this.a*a*r*Math.sin(n)/h,o=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)/h):(s=this.x0+this.infinity_dist*r*Math.sin(n),o=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=s,t.y=o,t}function Wn(t){var e,r,n,i,a,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),n=Math.cos(i),h=Wt(n*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),a=V(this.long0+a)):(h=this.phic0,a=0),t.x=a,t.y=h,t}var Zn=["gnom"];const Hn={init:Gn,forward:$n,inverse:Wn,names:Zn};function Kn(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*Z:Z;for(var n=Math.asin(.5*e),i,a,h,s,o=0;o<30;o++)if(a=Math.sin(n),h=Math.cos(n),s=t*a,i=Math.pow(1-s*s,2)/(2*h)*(e/(1-t*t)-a/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function Jn(){this.sphere||(this.k0=Ut(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Xn(t){var e=t.x,r=t.y,n,i,a=V(e-this.long0);if(this.sphere)n=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var h=Gt(this.e,Math.sin(r));n=this.x0+this.a*this.k0*a,i=this.y0+this.a*h*.5/this.k0}return t.x=n,t.y=i,t}function Qn(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=V(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=Kn(this.e,2*t.y*this.k0/this.a),e=V(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var Vn=["cea"];const Yn={init:Jn,forward:Xn,inverse:Qn,names:Vn};function th(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function eh(t){var e=t.x,r=t.y,n=V(e-this.long0),i=ne(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t}function rh(t){var e=t.x,r=t.y;return t.x=V(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ne(this.lat0+(r-this.y0)/this.a),t}var ih=["Equirectangular","Equidistant_Cylindrical","eqc"];const ah={init:th,forward:eh,inverse:rh,names:ih};var zr=20;function sh(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=be(this.es),this.e1=Ee(this.es),this.e2=Ce(this.es),this.e3=Se(this.es),this.ml0=this.a*kt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function nh(t){var e=t.x,r=t.y,n,i,a,h=V(e-this.long0);if(a=h*Math.sin(r),this.sphere)Math.abs(r)<=J?(n=this.a*h,i=-1*this.a*this.lat0):(n=this.a*Math.sin(a)/Math.tan(r),i=this.a*(ne(r-this.lat0)+(1-Math.cos(a))/Math.tan(r)));else if(Math.abs(r)<=J)n=this.a*h,i=-1*this.ml0;else{var s=se(this.a,this.e,Math.sin(r))/Math.tan(r);n=s*Math.sin(a),i=this.a*kt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(a))}return t.x=n+this.x0,t.y=i+this.y0,t}function hh(t){var e,r,n,i,a,h,s,o,u;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=J)e=V(n/this.a+this.long0),r=0;else{h=this.lat0+i/this.a,s=n*n/this.a/this.a+h*h,o=h;var _;for(a=zr;a;--a)if(_=Math.tan(o),u=-1*(h*(o*_+1)-o-.5*(o*o+s)*_)/((o-h)/_-1),o+=u,Math.abs(u)<=J){r=o;break}e=V(this.long0+Math.asin(n*Math.tan(o)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=J)r=0,e=V(this.long0+n/this.a);else{h=(this.ml0+i)/this.a,s=n*n/this.a/this.a+h*h,o=h;var m,M,l,p,c;for(a=zr;a;--a)if(c=this.e*Math.sin(o),m=Math.sqrt(1-c*c)*Math.tan(o),M=this.a*kt(this.e0,this.e1,this.e2,this.e3,o),l=this.e0-2*this.e1*Math.cos(2*o)+4*this.e2*Math.cos(4*o)-6*this.e3*Math.cos(6*o),p=M/this.a,u=(h*(m*p+1)-p-.5*m*(p*p+s))/(this.es*Math.sin(2*o)*(p*p+s-2*h*p)/(4*m)+(h-p)*(m*l-2/Math.sin(2*o))-l),o-=u,Math.abs(u)<=J){r=o;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=V(this.long0+Math.asin(n*m/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var oh=["Polyconic","poly"];const lh={init:sh,forward:nh,inverse:hh,names:oh};function uh(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function fh(t){var e,r=t.x,n=t.y,i=n-this.lat0,a=r-this.long0,h=i/_e*1e-5,s=a,o=1,u=0;for(e=1;e<=10;e++)o=o*h,u=u+this.A[e]*o;var _=u,m=s,M=1,l=0,p,c,x=0,w=0;for(e=1;e<=6;e++)p=M*_-l*m,c=l*_+M*m,M=p,l=c,x=x+this.B_re[e]*M-this.B_im[e]*l,w=w+this.B_im[e]*M+this.B_re[e]*l;return t.x=w*this.a+this.x0,t.y=x*this.a+this.y0,t}function ch(t){var e,r=t.x,n=t.y,i=r-this.x0,a=n-this.y0,h=a/this.a,s=i/this.a,o=1,u=0,_,m,M=0,l=0;for(e=1;e<=6;e++)_=o*h-u*s,m=u*h+o*s,o=_,u=m,M=M+this.C_re[e]*o-this.C_im[e]*u,l=l+this.C_im[e]*o+this.C_re[e]*u;for(var p=0;p<this.iterations;p++){var c=M,x=l,w,b,k=h,O=s;for(e=2;e<=6;e++)w=c*M-x*l,b=x*M+c*l,c=w,x=b,k=k+(e-1)*(this.B_re[e]*c-this.B_im[e]*x),O=O+(e-1)*(this.B_im[e]*c+this.B_re[e]*x);c=1,x=0;var I=this.B_re[1],F=this.B_im[1];for(e=2;e<=6;e++)w=c*M-x*l,b=x*M+c*l,c=w,x=b,I=I+e*(this.B_re[e]*c-this.B_im[e]*x),F=F+e*(this.B_im[e]*c+this.B_re[e]*x);var B=I*I+F*F;M=(k*I+O*F)/B,l=(O*I-k*F)/B}var U=M,z=l,$=1,Y=0;for(e=1;e<=9;e++)$=$*U,Y=Y+this.D[e]*$;var A=this.lat0+Y*_e*1e5,D=this.long0+z;return t.x=D,t.y=A,t}var dh=["New_Zealand_Map_Grid","nzmg"];const mh={init:uh,forward:fh,inverse:ch,names:dh};function vh(){}function ph(t){var e=t.x,r=t.y,n=V(e-this.long0),i=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=a,t}function _h(t){t.x-=this.x0,t.y-=this.y0;var e=V(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var gh=["Miller_Cylindrical","mill"];const yh={init:vh,forward:ph,inverse:_h,names:gh};var xh=20;function Mh(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ui(this.es)}function wh(t){var e,r,n=t.x,i=t.y;if(n=V(n-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),h=xh;h;--h){var s=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<J)break}e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var o=Math.sin(i),u=Math.cos(i);r=this.a*We(i,o,u,this.en),e=this.a*n*u/Math.sqrt(1-this.es*o*o)}return t.x=e,t.y=r,t}function bh(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=Wt((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Wt(Math.sin(e)/this.n)),n=V(n+this.long0),e=ne(e)):(e=fi(t.y/this.a,this.es,this.en),i=Math.abs(e),i<Z?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=V(r)):i-J<Z&&(n=this.long0)),t.x=n,t.y=e,t}var Eh=["Sinusoidal","sinu"];const Ch={init:Mh,forward:wh,inverse:bh,names:Eh};function Sh(){}function kh(t){for(var e=t.x,r=t.y,n=V(e-this.long0),i=r,a=Math.PI*Math.sin(r);;){var h=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=h,Math.abs(h)<J)break}i/=2,Math.PI/2-Math.abs(r)<J&&(n=0);var s=.900316316158*this.a*n*Math.cos(i)+this.x0,o=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=o,t}function Ah(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=V(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t}var Ih=["Mollweide","moll"];const Oh={init:Sh,forward:kh,inverse:Ah,names:Ih};function Nh(){Math.abs(this.lat1+this.lat2)<J||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=be(this.es),this.e1=Ee(this.es),this.e2=Ce(this.es),this.e3=Se(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ut(this.e,this.sinphi,this.cosphi),this.ml1=kt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<J?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ut(this.e,this.sinphi,this.cosphi),this.ml2=kt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=kt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Ph(t){var e=t.x,r=t.y,n;if(this.sphere)n=this.a*(this.g-r);else{var i=kt(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-i)}var a=this.ns*V(e-this.long0),h=this.x0+n*Math.sin(a),s=this.y0+this.rh-n*Math.cos(a);return t.x=h,t.y=s,t}function Fh(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,n,i;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(r!==0&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=V(this.long0+a/this.ns),n=ne(this.g-r/this.a),t.x=i,t.y=n,t;var h=this.g-r/this.a;return n=je(h,this.e0,this.e1,this.e2,this.e3),i=V(this.long0+a/this.ns),t.x=i,t.y=n,t}var Th=["Equidistant_Conic","eqdc"];const Rh={init:Nh,forward:Ph,inverse:Fh,names:Th};function Bh(){this.R=this.a}function zh(t){var e=t.x,r=t.y,n=V(e-this.long0),i,a;Math.abs(r)<=J&&(i=this.x0+this.R*n,a=this.y0);var h=Wt(2*Math.abs(r/Math.PI));(Math.abs(n)<=J||Math.abs(Math.abs(r)-Z)<=J)&&(i=this.x0,r>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*h):a=this.y0+Math.PI*this.R*-Math.tan(.5*h));var s=.5*Math.abs(Math.PI/n-n/Math.PI),o=s*s,u=Math.sin(h),_=Math.cos(h),m=_/(u+_-1),M=m*m,l=m*(2/u-1),p=l*l,c=Math.PI*this.R*(s*(m-p)+Math.sqrt(o*(m-p)*(m-p)-(p+o)*(M-p)))/(p+o);n<0&&(c=-c),i=this.x0+c;var x=o+m;return c=Math.PI*this.R*(l*x-s*Math.sqrt((p+o)*(o+1)-x*x))/(p+o),r>=0?a=this.y0+c:a=this.y0-c,t.x=i,t.y=a,t}function Lh(t){var e,r,n,i,a,h,s,o,u,_,m,M,l;return t.x-=this.x0,t.y-=this.y0,m=Math.PI*this.R,n=t.x/m,i=t.y/m,a=n*n+i*i,h=-Math.abs(i)*(1+a),s=h-2*i*i+n*n,o=-2*h+1+2*i*i+a*a,l=i*i/o+(2*s*s*s/o/o/o-9*h*s/o/o)/27,u=(h-s*s/3/o)/o,_=2*Math.sqrt(-u/3),m=3*l/u/_,Math.abs(m)>1&&(m>=0?m=1:m=-1),M=Math.acos(m)/3,t.y>=0?r=(-_*Math.cos(M+Math.PI/3)-s/3/o)*Math.PI:r=-(-_*Math.cos(M+Math.PI/3)-s/3/o)*Math.PI,Math.abs(n)<J?e=this.long0:e=V(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n),t.x=e,t.y=r,t}var Dh=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Uh={init:Bh,forward:zh,inverse:Lh,names:Dh};function jh(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function qh(t){var e=t.x,r=t.y,n=Math.sin(t.y),i=Math.cos(t.y),a=V(e-this.long0),h,s,o,u,_,m,M,l,p,c,x,w,b,k,O,I,F,B,U,z,$,Y,A;return this.sphere?Math.abs(this.sin_p12-1)<=J?(t.x=this.x0+this.a*(Z-r)*Math.sin(a),t.y=this.y0-this.a*(Z-r)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=J?(t.x=this.x0+this.a*(Z+r)*Math.sin(a),t.y=this.y0+this.a*(Z+r)*Math.cos(a),t):(B=this.sin_p12*n+this.cos_p12*i*Math.cos(a),I=Math.acos(B),F=I?I/Math.sin(I):1,t.x=this.x0+this.a*F*i*Math.sin(a),t.y=this.y0+this.a*F*(this.cos_p12*n-this.sin_p12*i*Math.cos(a)),t):(h=be(this.es),s=Ee(this.es),o=Ce(this.es),u=Se(this.es),Math.abs(this.sin_p12-1)<=J?(_=this.a*kt(h,s,o,u,Z),m=this.a*kt(h,s,o,u,r),t.x=this.x0+(_-m)*Math.sin(a),t.y=this.y0-(_-m)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=J?(_=this.a*kt(h,s,o,u,Z),m=this.a*kt(h,s,o,u,r),t.x=this.x0+(_+m)*Math.sin(a),t.y=this.y0+(_+m)*Math.cos(a),t):(M=n/i,l=se(this.a,this.e,this.sin_p12),p=se(this.a,this.e,n),c=Math.atan((1-this.es)*M+this.es*l*this.sin_p12/(p*i)),x=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(a)),x===0?U=Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(x)-Math.PI)<=J?U=-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):U=Math.asin(Math.sin(a)*Math.cos(c)/Math.sin(x)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),b=this.e*this.cos_p12*Math.cos(x)/Math.sqrt(1-this.es),k=w*b,O=b*b,z=U*U,$=z*U,Y=$*U,A=Y*U,I=l*U*(1-z*O*(1-O)/6+$/8*k*(1-2*O)+Y/120*(O*(4-7*O)-3*w*w*(1-7*O))-A/48*k),t.x=this.x0+I*Math.sin(x),t.y=this.y0+I*Math.cos(x),t))}function Gh(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,h,s,o,u,_,m,M,l,p,c,x,w,b,k,O,I,F,B,U;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*Z*this.a?void 0:(r=e/this.a,n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=J?h=this.lat0:(h=Wt(i*this.sin_p12+t.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-Z,Math.abs(s)<=J?this.lat0>=0?a=V(this.long0+Math.atan2(t.x,-t.y)):a=V(this.long0-Math.atan2(-t.x,t.y)):a=V(this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n))),t.x=a,t.y=h,t)):(o=be(this.es),u=Ee(this.es),_=Ce(this.es),m=Se(this.es),Math.abs(this.sin_p12-1)<=J?(M=this.a*kt(o,u,_,m,Z),e=Math.sqrt(t.x*t.x+t.y*t.y),l=M-e,h=je(l/this.a,o,u,_,m),a=V(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=h,t):Math.abs(this.sin_p12+1)<=J?(M=this.a*kt(o,u,_,m,Z),e=Math.sqrt(t.x*t.x+t.y*t.y),l=e-M,h=je(l/this.a,o,u,_,m),a=V(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=h,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),x=Math.atan2(t.x,t.y),p=se(this.a,this.e,this.sin_p12),w=Math.cos(x),b=this.e*this.cos_p12*w,k=-b*b/(1-this.es),O=3*this.es*(1-k)*this.sin_p12*this.cos_p12*w/(1-this.es),I=e/p,F=I-k*(1+k)*Math.pow(I,3)/6-O*(1+3*k)*Math.pow(I,4)/24,B=1-k*F*F/2-I*F*F*F/6,c=Math.asin(this.sin_p12*Math.cos(F)+this.cos_p12*Math.sin(F)*w),a=V(this.long0+Math.asin(Math.sin(x)*Math.sin(F)/Math.cos(c))),U=Math.sin(c),h=Math.atan2((U-this.es*B*this.sin_p12)*Math.tan(c),U*(1-this.es)),t.x=a,t.y=h,t))}var $h=["Azimuthal_Equidistant","aeqd"];const Wh={init:jh,forward:qh,inverse:Gh,names:$h};function Zh(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Hh(t){var e,r,n,i,a,h,s,o,u=t.x,_=t.y;return n=V(u-this.long0),e=Math.sin(_),r=Math.cos(_),i=Math.cos(n),h=this.sin_p14*e+this.cos_p14*r*i,a=1,(h>0||Math.abs(h)<=J)&&(s=this.a*a*r*Math.sin(n),o=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=s,t.y=o,t}function Kh(t){var e,r,n,i,a,h,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=Wt(e/this.a),n=Math.sin(r),i=Math.cos(r),h=this.long0,Math.abs(e)<=J?(s=this.lat0,t.x=h,t.y=s,t):(s=Wt(i*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.abs(this.lat0)-Z,Math.abs(a)<=J?(this.lat0>=0?h=V(this.long0+Math.atan2(t.x,-t.y)):h=V(this.long0-Math.atan2(-t.x,t.y)),t.x=h,t.y=s,t):(h=V(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n)),t.x=h,t.y=s,t))}var Jh=["ortho"];const Xh={init:Zh,forward:Hh,inverse:Kh,names:Jh};var dt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ut={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Qh(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Z-lt/2?this.face=dt.TOP:this.lat0<=-(Z-lt/2)?this.face=dt.BOTTOM:Math.abs(this.long0)<=lt?this.face=dt.FRONT:Math.abs(this.long0)<=Z+lt?this.face=this.long0>0?dt.RIGHT:dt.LEFT:this.face=dt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Vh(t){var e={x:0,y:0},r,n,i,a,h,s,o={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,n=t.x,this.face===dt.TOP)a=Z-r,n>=lt&&n<=Z+lt?(o.value=ut.AREA_0,i=n-Z):n>Z+lt||n<=-(Z+lt)?(o.value=ut.AREA_1,i=n>0?n-vt:n+vt):n>-(Z+lt)&&n<=-lt?(o.value=ut.AREA_2,i=n+Z):(o.value=ut.AREA_3,i=n);else if(this.face===dt.BOTTOM)a=Z+r,n>=lt&&n<=Z+lt?(o.value=ut.AREA_0,i=-n+Z):n<lt&&n>=-lt?(o.value=ut.AREA_1,i=-n):n<-lt&&n>=-(Z+lt)?(o.value=ut.AREA_2,i=-n-Z):(o.value=ut.AREA_3,i=n>0?-n+vt:-n-vt);else{var u,_,m,M,l,p,c;this.face===dt.RIGHT?n=re(n,+Z):this.face===dt.BACK?n=re(n,+vt):this.face===dt.LEFT&&(n=re(n,-Z)),M=Math.sin(r),l=Math.cos(r),p=Math.sin(n),c=Math.cos(n),u=l*c,_=l*p,m=M,this.face===dt.FRONT?(a=Math.acos(u),i=Pe(a,m,_,o)):this.face===dt.RIGHT?(a=Math.acos(_),i=Pe(a,m,-u,o)):this.face===dt.BACK?(a=Math.acos(-u),i=Pe(a,m,-_,o)):this.face===dt.LEFT?(a=Math.acos(-_),i=Pe(a,m,u,o)):(a=i=0,o.value=ut.AREA_0)}return s=Math.atan(12/vt*(i+Math.acos(Math.sin(i)*Math.cos(lt))-Z)),h=Math.sqrt((1-Math.cos(a))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),o.value===ut.AREA_1?s+=Z:o.value===ut.AREA_2?s+=vt:o.value===ut.AREA_3&&(s+=1.5*vt),e.x=h*Math.cos(s),e.y=h*Math.sin(s),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function Yh(t){var e={lam:0,phi:0},r,n,i,a,h,s,o,u,_,m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=ut.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=ut.AREA_1,r-=Z):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=ut.AREA_2,r=r<0?r+vt:r-vt):(m.value=ut.AREA_3,r+=Z),_=vt/12*Math.tan(r),h=Math.sin(_)/(Math.cos(_)-1/Math.sqrt(2)),s=Math.atan(h),i=Math.cos(r),a=Math.tan(n),o=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(s)))),o<-1?o=-1:o>1&&(o=1),this.face===dt.TOP)u=Math.acos(o),e.phi=Z-u,m.value===ut.AREA_0?e.lam=s+Z:m.value===ut.AREA_1?e.lam=s<0?s+vt:s-vt:m.value===ut.AREA_2?e.lam=s-Z:e.lam=s;else if(this.face===dt.BOTTOM)u=Math.acos(o),e.phi=u-Z,m.value===ut.AREA_0?e.lam=-s+Z:m.value===ut.AREA_1?e.lam=-s:m.value===ut.AREA_2?e.lam=-s-Z:e.lam=s<0?-s-vt:-s+vt;else{var M,l,p;M=o,_=M*M,_>=1?p=0:p=Math.sqrt(1-_)*Math.sin(s),_+=p*p,_>=1?l=0:l=Math.sqrt(1-_),m.value===ut.AREA_1?(_=l,l=-p,p=_):m.value===ut.AREA_2?(l=-l,p=-p):m.value===ut.AREA_3&&(_=l,l=p,p=-_),this.face===dt.RIGHT?(_=M,M=-l,l=_):this.face===dt.BACK?(M=-M,l=-l):this.face===dt.LEFT&&(_=M,M=l,l=-_),e.phi=Math.acos(-p)-Z,e.lam=Math.atan2(l,M),this.face===dt.RIGHT?e.lam=re(e.lam,-Z):this.face===dt.BACK?e.lam=re(e.lam,-vt):this.face===dt.LEFT&&(e.lam=re(e.lam,+Z))}if(this.es!==0){var c,x,w;c=e.phi<0?1:0,x=Math.tan(e.phi),w=this.b/Math.sqrt(x*x+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-w*w)/(this.one_minus_f*w)),c&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Pe(t,e,r,n){var i;return t<J?(n.value=ut.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=lt?n.value=ut.AREA_0:i>lt&&i<=Z+lt?(n.value=ut.AREA_1,i-=Z):i>Z+lt||i<=-(Z+lt)?(n.value=ut.AREA_2,i=i>=0?i-vt:i+vt):(n.value=ut.AREA_3,i+=Z)),i}function re(t,e){var r=t+e;return r<-vt?r+=ge:r>+vt&&(r-=ge),r}var to=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const eo={init:Qh,forward:Vh,inverse:Yh,names:to};var rr=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],de=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],mi=.8487,vi=1.3523,pi=Lt/5,ro=1/pi,te=18,qe=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},io=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function ao(t,e,r,n){for(var i=e;n;--n){var a=t(i);if(i-=a,Math.abs(a)<r)break}return i}function so(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function no(t){var e=V(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*pi);n<0?n=0:n>=te&&(n=te-1),r=Lt*(r-ro*n);var i={x:qe(rr[n],r)*e,y:qe(de[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*mi+this.x0,i.y=i.y*this.a*vi+this.y0,i}function ho(t){var e={x:(t.x-this.x0)/(this.a*mi),y:Math.abs(t.y-this.y0)/(this.a*vi)};if(e.y>=1)e.x/=rr[te][0],e.y=t.y<0?-Z:Z;else{var r=Math.floor(e.y*te);for(r<0?r=0:r>=te&&(r=te-1);;)if(de[r][0]>e.y)--r;else if(de[r+1][0]<=e.y)++r;else break;var n=de[r],i=5*(e.y-n[0])/(de[r+1][0]-n[0]);i=ao(function(a){return(qe(n,a)-e.y)/io(n,a)},i,J,100),e.x/=qe(rr[r],i),e.y=(5*r+i)*wt,t.y<0&&(e.y=-e.y)}return e.x=V(e.x+this.long0),e}var oo=["Robinson","robin"];const lo={init:so,forward:no,inverse:ho,names:oo};function uo(){this.name="geocent"}function fo(t){var e=ei(t,this.es,this.a);return e}function co(t){var e=ri(t,this.es,this.a,this.b);return e}var mo=["Geocentric","geocentric","geocent","Geocent"];const vo={init:uo,forward:fo,inverse:co,names:mo};var bt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ue={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function po(){if(Object.keys(ue).forEach(function(r){if(typeof this[r]>"u")this[r]=ue[r].def;else{if(ue[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);ue[r].num&&(this[r]=parseFloat(this[r]))}ue[r].degrees&&(this[r]=this[r]*wt)}.bind(this)),Math.abs(Math.abs(this.lat0)-Z)<J?this.mode=this.lat0<0?bt.S_POLE:bt.N_POLE:Math.abs(this.lat0)<J?this.mode=bt.EQUIT:(this.mode=bt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function _o(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i,a;switch(this.mode){case bt.OBLIQ:a=this.sinph0*e+this.cosph0*r*n;break;case bt.EQUIT:a=r*n;break;case bt.S_POLE:a=-e;break;case bt.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),i=a*r*Math.sin(t.x),this.mode){case bt.OBLIQ:a*=this.cosph0*e-this.sinph0*r*n;break;case bt.EQUIT:a*=e;break;case bt.N_POLE:a*=-(r*n);break;case bt.S_POLE:a*=r*n;break}var h,s;return h=a*this.cg+i*this.sg,s=1/(h*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*s,a=h*s,t.x=i*this.a,t.y=a*this.a,t}function go(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,n,i;i=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var a=Ft(t.x,t.y);if(Math.abs(a)<J)e.x=0,e.y=t.y;else{var h,s;switch(s=1-a*a*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/a+a/this.pn1),h=Math.sqrt(1-s*s),this.mode){case bt.OBLIQ:e.y=Math.asin(h*this.sinph0+t.y*s*this.cosph0/a),t.y=(h-this.sinph0*Math.sin(e.y))*a,t.x*=s*this.cosph0;break;case bt.EQUIT:e.y=Math.asin(t.y*s/a),t.y=h*a,t.x*=s;break;case bt.N_POLE:e.y=Math.asin(h),t.y=-t.y;break;case bt.S_POLE:e.y=-Math.asin(h);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var yo=["Tilted_Perspective","tpers"];const xo={init:po,forward:_o,inverse:go,names:yo};function Mo(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function wo(t){var e=t.x,r=t.y,n,i,a,h;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var s=this.radius_p/Ft(this.radius_p*Math.cos(r),Math.sin(r));if(i=s*Math.cos(e)*Math.cos(r),a=s*Math.sin(e)*Math.cos(r),h=s*Math.sin(r),(this.radius_g-i)*i-a*a-h*h*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/Ft(h,n)),t.y=this.radius_g_1*Math.atan(h/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(h/Ft(a,n)))}else this.shape==="sphere"&&(n=Math.cos(r),i=Math.cos(e)*n,a=Math.sin(e)*n,h=Math.sin(r),n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/Ft(h,n)),t.y=this.radius_g_1*Math.atan(h/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(h/Ft(a,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function bo(t){var e=-1,r=0,n=0,i,a,h,s;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Ft(1,n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Ft(1,r));var o=n/this.radius_p;if(i=r*r+o*o+e*e,a=2*this.radius_g*e,h=a*a-4*i*this.C,h<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-a-Math.sqrt(h))/(2*i),e=this.radius_g+s*e,r*=s,n*=s,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),i=r*r+n*n+e*e,a=2*this.radius_g*e,h=a*a-4*i*this.C,h<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=(-a-Math.sqrt(h))/(2*i),e=this.radius_g+s*e,r*=s,n*=s,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var Eo=["Geostationary Satellite View","Geostationary_Satellite","geos"];const Co={init:Mo,forward:wo,inverse:bo,names:Eo};function So(t){t.Proj.projections.add(Be),t.Proj.projections.add(ze),t.Proj.projections.add(Os),t.Proj.projections.add(Us),t.Proj.projections.add(Zs),t.Proj.projections.add(Qs),t.Proj.projections.add(an),t.Proj.projections.add(ln),t.Proj.projections.add(mn),t.Proj.projections.add(yn),t.Proj.projections.add(Bn),t.Proj.projections.add(qn),t.Proj.projections.add(Hn),t.Proj.projections.add(Yn),t.Proj.projections.add(ah),t.Proj.projections.add(lh),t.Proj.projections.add(mh),t.Proj.projections.add(yh),t.Proj.projections.add(Ch),t.Proj.projections.add(Oh),t.Proj.projections.add(Rh),t.Proj.projections.add(Uh),t.Proj.projections.add(Wh),t.Proj.projections.add(Xh),t.Proj.projections.add(eo),t.Proj.projections.add(lo),t.Proj.projections.add(vo),t.Proj.projections.add(xo),t.Proj.projections.add(Co)}Nt.defaultDatum="WGS84";Nt.Proj=Dt;Nt.WGS84=new Nt.Proj("WGS84");Nt.Point=ae;Nt.toPoint=ii;Nt.defs=St;Nt.nadgrid=Pa;Nt.transform=Ue;Nt.mgrs=Ka;Nt.version="__VERSION__";So(Nt);const ko=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"})),Ao=Hr(ko);function Fe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ir={},Io={get exports(){return ir},set exports(t){ir=t}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function h(u,_){if(!i[u]){if(!n[u]){var m=typeof Fe=="function"&&Fe;if(!_&&m)return m(u,!0);if(s)return s(u,!0);var M=new Error("Cannot find module '"+u+"'");throw M.code="MODULE_NOT_FOUND",M}var l=i[u]={exports:{}};n[u][0].call(l.exports,function(p){var c=n[u][1][p];return h(c||p)},l,l.exports,r,n,i,a)}return i[u].exports}for(var s=typeof Fe=="function"&&Fe,o=0;o<a.length;o++)h(a[o]);return h}({1:[function(r,n,i){var a=r("./utils"),h=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(o){for(var u,_,m,M,l,p,c,x=[],w=0,b=o.length,k=b,O=a.getTypeOf(o)!=="string";w<o.length;)k=b-w,m=O?(u=o[w++],_=w<b?o[w++]:0,w<b?o[w++]:0):(u=o.charCodeAt(w++),_=w<b?o.charCodeAt(w++):0,w<b?o.charCodeAt(w++):0),M=u>>2,l=(3&u)<<4|_>>4,p=1<k?(15&_)<<2|m>>6:64,c=2<k?63&m:64,x.push(s.charAt(M)+s.charAt(l)+s.charAt(p)+s.charAt(c));return x.join("")},i.decode=function(o){var u,_,m,M,l,p,c=0,x=0,w="data:";if(o.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var b,k=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===s.charAt(64)&&k--,o.charAt(o.length-2)===s.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=h.uint8array?new Uint8Array(0|k):new Array(0|k);c<o.length;)u=s.indexOf(o.charAt(c++))<<2|(M=s.indexOf(o.charAt(c++)))>>4,_=(15&M)<<4|(l=s.indexOf(o.charAt(c++)))>>2,m=(3&l)<<6|(p=s.indexOf(o.charAt(c++))),b[x++]=u,l!==64&&(b[x++]=_),p!==64&&(b[x++]=m);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),h=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),o=r("./stream/DataLengthProbe");function u(_,m,M,l,p){this.compressedSize=_,this.uncompressedSize=m,this.crc32=M,this.compression=l,this.compressedContent=p}u.prototype={getContentWorker:function(){var _=new h(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),m=this;return _.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new h(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(_,m,M){return _.pipe(new s).pipe(new o("uncompressedSize")).pipe(m.compressWorker(M)).pipe(new o("compressedSize")).withStreamInfo("compression",m)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),h=function(){for(var s,o=[],u=0;u<256;u++){s=u;for(var _=0;_<8;_++)s=1&s?3988292384^s>>>1:s>>>1;o[u]=s}return o}();n.exports=function(s,o){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?function(u,_,m,M){var l=h,p=M+m;u^=-1;for(var c=M;c<p;c++)u=u>>>8^l[255&(u^_[c])];return-1^u}(0|o,s,s.length,0):function(u,_,m,M){var l=h,p=M+m;u^=-1;for(var c=M;c<p;c++)u=u>>>8^l[255&(u^_.charCodeAt(c))];return-1^u}(0|o,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=r("pako"),s=r("./utils"),o=r("./stream/GenericWorker"),u=a?"uint8array":"array";function _(m,M){o.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=M,this.meta={}}i.magic="\b\0",s.inherits(_,o),_.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,m.data),!1)},_.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(M){m.push({data:M,meta:m.meta})}},i.compressWorker=function(m){return new _("Deflate",m)},i.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(l,p){var c,x="";for(c=0;c<p;c++)x+=String.fromCharCode(255&l),l>>>=8;return x}function h(l,p,c,x,w,b){var k,O,I=l.file,F=l.compression,B=b!==u.utf8encode,U=s.transformTo("string",b(I.name)),z=s.transformTo("string",u.utf8encode(I.name)),$=I.comment,Y=s.transformTo("string",b($)),A=s.transformTo("string",u.utf8encode($)),D=z.length!==I.name.length,y=A.length!==$.length,q="",rt="",W="",st=I.dir,H=I.date,et={crc32:0,compressedSize:0,uncompressedSize:0};p&&!c||(et.crc32=l.crc32,et.compressedSize=l.compressedSize,et.uncompressedSize=l.uncompressedSize);var R=0;p&&(R|=8),B||!D&&!y||(R|=2048);var T=0,tt=0;st&&(T|=16),w==="UNIX"?(tt=798,T|=function(K,ft){var xt=K;return K||(xt=ft?16893:33204),(65535&xt)<<16}(I.unixPermissions,st)):(tt=20,T|=function(K){return 63&(K||0)}(I.dosPermissions)),k=H.getUTCHours(),k<<=6,k|=H.getUTCMinutes(),k<<=5,k|=H.getUTCSeconds()/2,O=H.getUTCFullYear()-1980,O<<=4,O|=H.getUTCMonth()+1,O<<=5,O|=H.getUTCDate(),D&&(rt=a(1,1)+a(_(U),4)+z,q+="up"+a(rt.length,2)+rt),y&&(W=a(1,1)+a(_(Y),4)+A,q+="uc"+a(W.length,2)+W);var Q="";return Q+=`
\0`,Q+=a(R,2),Q+=F.magic,Q+=a(k,2),Q+=a(O,2),Q+=a(et.crc32,4),Q+=a(et.compressedSize,4),Q+=a(et.uncompressedSize,4),Q+=a(U.length,2),Q+=a(q.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Q+U+q,dirRecord:m.CENTRAL_FILE_HEADER+a(tt,2)+Q+a(Y.length,2)+"\0\0\0\0"+a(T,4)+a(x,4)+U+q+Y}}var s=r("../utils"),o=r("../stream/GenericWorker"),u=r("../utf8"),_=r("../crc32"),m=r("../signature");function M(l,p,c,x){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=c,this.encodeFileName=x,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(M,o),M.prototype.push=function(l){var p=l.meta.percent||0,c=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,o.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:c?(p+100*(c-x-1))/c:100}}))},M.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var p=this.streamFiles&&!l.file.dir;if(p){var c=h(l,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},M.prototype.closedSource=function(l){this.accumulate=!1;var p=this.streamFiles&&!l.file.dir,c=h(l,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),p)this.push({data:function(x){return m.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},M.prototype.flush=function(){for(var l=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var c=this.bytesWritten-l,x=function(w,b,k,O,I){var F=s.transformTo("string",I(O));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(b,4)+a(k,4)+a(F.length,2)+F}(this.dirRecords.length,c,l,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},M.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},M.prototype.registerPrevious=function(l){this._sources.push(l);var p=this;return l.on("data",function(c){p.processChunk(c)}),l.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),l.on("error",function(c){p.error(c)}),this},M.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},M.prototype.error=function(l){var p=this._sources;if(!o.prototype.error.call(this,l))return!1;for(var c=0;c<p.length;c++)try{p[c].error(l)}catch{}return!0},M.prototype.lock=function(){o.prototype.lock.call(this);for(var l=this._sources,p=0;p<l.length;p++)l[p].lock()},n.exports=M},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),h=r("./ZipFileWorker");i.generateWorker=function(s,o,u){var _=new h(o.streamFiles,u,o.platform,o.encodeFileName),m=0;try{s.forEach(function(M,l){m++;var p=function(b,k){var O=b||k,I=a[O];if(!I)throw new Error(O+" is not a valid compression method !");return I}(l.options.compression,o.compression),c=l.options.compressionOptions||o.compressionOptions||{},x=l.dir,w=l.date;l._compressWorker(p,c).withStreamInfo("file",{name:M,dir:x,date:w,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(_)}),_.entriesCount=m}catch(M){_.error(M)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new a;for(var s in this)typeof this[s]!="function"&&(h[s]=this[s]);return h}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(h,s){return new a().loadAsync(h,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),h=r("./external"),s=r("./utf8"),o=r("./zipEntries"),u=r("./stream/Crc32Probe"),_=r("./nodejsUtils");function m(M){return new h.Promise(function(l,p){var c=M.decompressed.getContentWorker().pipe(new u);c.on("error",function(x){p(x)}).on("end",function(){c.streamInfo.crc32!==M.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}n.exports=function(M,l){var p=this;return l=a.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),_.isNode&&_.isStream(M)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",M,!0,l.optimizedBinaryString,l.base64).then(function(c){var x=new o(l);return x.load(c),x}).then(function(c){var x=[h.Promise.resolve(c)],w=c.files;if(l.checkCRC32)for(var b=0;b<w.length;b++)x.push(m(w[b]));return h.Promise.all(x)}).then(function(c){for(var x=c.shift(),w=x.files,b=0;b<w.length;b++){var k=w[b],O=k.fileNameStr,I=a.resolve(k.fileNameStr);p.file(I,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:l.createFolders}),k.dir||(p.file(I).unsafeOriginalName=O)}return x.zipComment.length&&(p.comment=x.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),h=r("../stream/GenericWorker");function s(o,u){h.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(s,h),s.prototype._bindStream=function(o){var u=this;(this._stream=o).pause(),o.on("data",function(_){u.push({data:_,meta:{percent:0}})}).on("error",function(_){u.isPaused?this.generatedError=_:u.error(_)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function h(s,o,u){a.call(this,o),this._helper=s;var _=this;s.on("data",function(m,M){_.push(m)||_._helper.pause(),u&&u(M)}).on("error",function(m){_.emit("error",m)}).on("end",function(){_.push(null)})}r("../utils").inherits(h,a),h.prototype._read=function(){this._helper.resume()},n.exports=h},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,h);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,h)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var h=new Buffer(a);return h.fill(0),h},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(I,F,B){var U,z=s.getTypeOf(F),$=s.extend(B||{},_);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(I=w(I)),$.createFolders&&(U=x(I))&&b.call(this,U,!0);var Y=z==="string"&&$.binary===!1&&$.base64===!1;B&&B.binary!==void 0||($.binary=!Y),(F instanceof m&&F.uncompressedSize===0||$.dir||!F||F.length===0)&&($.base64=!1,$.binary=!0,F="",$.compression="STORE",z="string");var A=null;A=F instanceof m||F instanceof o?F:p.isNode&&p.isStream(F)?new c(I,F):s.prepareContent(I,F,$.binary,$.optimizedBinaryString,$.base64);var D=new M(I,A,$);this.files[I]=D}var h=r("./utf8"),s=r("./utils"),o=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),_=r("./defaults"),m=r("./compressedObject"),M=r("./zipObject"),l=r("./generate"),p=r("./nodejsUtils"),c=r("./nodejs/NodejsStreamInputAdapter"),x=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var F=I.lastIndexOf("/");return 0<F?I.substring(0,F):""},w=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},b=function(I,F){return F=F!==void 0?F:_.createFolders,I=w(I),this.files[I]||a.call(this,I,null,{dir:!0,createFolders:F}),this.files[I]};function k(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var F,B,U;for(F in this.files)U=this.files[F],(B=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&I(B,U)},filter:function(I){var F=[];return this.forEach(function(B,U){I(B,U)&&F.push(U)}),F},file:function(I,F,B){if(arguments.length!==1)return I=this.root+I,a.call(this,I,F,B),this;if(k(I)){var U=I;return this.filter(function($,Y){return!Y.dir&&U.test($)})}var z=this.files[this.root+I];return z&&!z.dir?z:null},folder:function(I){if(!I)return this;if(k(I))return this.filter(function(z,$){return $.dir&&I.test(z)});var F=this.root+I,B=b.call(this,F),U=this.clone();return U.root=B.name,U},remove:function(I){I=this.root+I;var F=this.files[I];if(F||(I.slice(-1)!=="/"&&(I+="/"),F=this.files[I]),F&&!F.dir)delete this.files[I];else for(var B=this.filter(function(z,$){return $.name.slice(0,I.length)===I}),U=0;U<B.length;U++)delete this.files[B[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var F,B={};try{if((B=s.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");s.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var U=B.comment||this.comment||"";F=l.generateWorker(this,B,U)}catch(z){(F=new o("error")).error(z)}return new u(F,B.type||"string",B.mimeType)},generateAsync:function(I,F){return this.generateInternalStream(I).accumulate(F)},generateNodeStream:function(I,F){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(F)}};n.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function h(s){a.call(this,s);for(var o=0;o<this.data.length;o++)s[o]=255&s[o]}r("../utils").inherits(h,a),h.prototype.byteAt=function(s){return this.data[this.zero+s]},h.prototype.lastIndexOfSignature=function(s){for(var o=s.charCodeAt(0),u=s.charCodeAt(1),_=s.charCodeAt(2),m=s.charCodeAt(3),M=this.length-4;0<=M;--M)if(this.data[M]===o&&this.data[M+1]===u&&this.data[M+2]===_&&this.data[M+3]===m)return M-this.zero;return-1},h.prototype.readAndCheckSignature=function(s){var o=s.charCodeAt(0),u=s.charCodeAt(1),_=s.charCodeAt(2),m=s.charCodeAt(3),M=this.readData(4);return o===M[0]&&u===M[1]&&_===M[2]&&m===M[3]},h.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},n.exports=h},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function h(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var o,u=0;for(this.checkOffset(s),o=this.index+s-1;o>=this.index;o--)u=(u<<8)+this.byteAt(o);return this.index+=s,u},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=h},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function h(s){a.call(this,s)}r("../utils").inherits(h,a),h.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},n.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function h(s){a.call(this,s)}r("../utils").inherits(h,a),h.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},h.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},h.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},h.prototype.readData=function(s){this.checkOffset(s);var o=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},n.exports=h},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function h(s){a.call(this,s)}r("../utils").inherits(h,a),h.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,o},n.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),h=r("../support"),s=r("./ArrayReader"),o=r("./StringReader"),u=r("./NodeBufferReader"),_=r("./Uint8ArrayReader");n.exports=function(m){var M=a.getTypeOf(m);return a.checkSupport(M),M!=="string"||h.uint8array?M==="nodebuffer"?new u(m):h.uint8array?new _(a.transformTo("uint8array",m)):new s(a.transformTo("array",m)):new o(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),h=r("../utils");function s(o){a.call(this,"ConvertWorker to "+o),this.destType=o}h.inherits(s,a),s.prototype.processChunk=function(o){this.push({data:h.transformTo(this.destType,o.data),meta:o.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),h=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(o){this.streamInfo.crc32=h(o.data,this.streamInfo.crc32||0),this.push(o)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),h=r("./GenericWorker");function s(o){h.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}a.inherits(s,h),s.prototype.processChunk=function(o){if(o){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+o.data.length}h.prototype.processChunk.call(this,o)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),h=r("./GenericWorker");function s(o){h.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(_){u.dataIsReady=!0,u.data=_,u.max=_&&_.length||0,u.type=a.getTypeOf(_),u.isPaused||u._tickAndRepeat()},function(_){u.error(_)})}a.inherits(s,h),s.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,u);break;case"uint8array":o=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":o=this.data.slice(this.index,u)}return this.index=u,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,s){return this._listeners[h].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,s){if(this._listeners[h])for(var o=0;o<this._listeners[h].length;o++)this._listeners[h][o].call(this,s)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var s=this;return h.on("data",function(o){s.processChunk(o)}),h.on("end",function(){s.end()}),h.on("error",function(o){s.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,s){return this.extraStreamInfo[h]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),h=r("./ConvertWorker"),s=r("./GenericWorker"),o=r("../base64"),u=r("../support"),_=r("../external"),m=null;if(u.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function M(p,c){return new _.Promise(function(x,w){var b=[],k=p._internalType,O=p._outputType,I=p._mimeType;p.on("data",function(F,B){b.push(F),c&&c(B)}).on("error",function(F){b=[],w(F)}).on("end",function(){try{var F=function(B,U,z){switch(B){case"blob":return a.newBlob(a.transformTo("arraybuffer",U),z);case"base64":return o.encode(U);default:return a.transformTo(B,U)}}(O,function(B,U){var z,$=0,Y=null,A=0;for(z=0;z<U.length;z++)A+=U[z].length;switch(B){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(Y=new Uint8Array(A),z=0;z<U.length;z++)Y.set(U[z],$),$+=U[z].length;return Y;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+B+"'")}}(k,b),I);x(F)}catch(B){w(B)}b=[]}).resume()})}function l(p,c,x){var w=c;switch(c){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=c,this._mimeType=x,a.checkSupport(w),this._worker=p.pipe(new h(w)),p.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}l.prototype={accumulate:function(p){return M(this,p)},on:function(p,c){var x=this;return p==="data"?this._worker.on(p,function(w){c.call(x,w.data,w.meta)}):this._worker.on(p,function(){a.delay(c,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(a),i.blob=h.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),h=r("./support"),s=r("./nodejsUtils"),o=r("./stream/GenericWorker"),u=new Array(256),_=0;_<256;_++)u[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;u[254]=u[254]=1;function m(){o.call(this,"utf-8 decode"),this.leftOver=null}function M(){o.call(this,"utf-8 encode")}i.utf8encode=function(l){return h.nodebuffer?s.newBufferFrom(l,"utf-8"):function(p){var c,x,w,b,k,O=p.length,I=0;for(b=0;b<O;b++)(64512&(x=p.charCodeAt(b)))==55296&&b+1<O&&(64512&(w=p.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),b++),I+=x<128?1:x<2048?2:x<65536?3:4;for(c=h.uint8array?new Uint8Array(I):new Array(I),b=k=0;k<I;b++)(64512&(x=p.charCodeAt(b)))==55296&&b+1<O&&(64512&(w=p.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(w-56320),b++),x<128?c[k++]=x:(x<2048?c[k++]=192|x>>>6:(x<65536?c[k++]=224|x>>>12:(c[k++]=240|x>>>18,c[k++]=128|x>>>12&63),c[k++]=128|x>>>6&63),c[k++]=128|63&x);return c}(l)},i.utf8decode=function(l){return h.nodebuffer?a.transformTo("nodebuffer",l).toString("utf-8"):function(p){var c,x,w,b,k=p.length,O=new Array(2*k);for(c=x=0;c<k;)if((w=p[c++])<128)O[x++]=w;else if(4<(b=u[w]))O[x++]=65533,c+=b-1;else{for(w&=b===2?31:b===3?15:7;1<b&&c<k;)w=w<<6|63&p[c++],b--;1<b?O[x++]=65533:w<65536?O[x++]=w:(w-=65536,O[x++]=55296|w>>10&1023,O[x++]=56320|1023&w)}return O.length!==x&&(O.subarray?O=O.subarray(0,x):O.length=x),a.applyFromCharCode(O)}(l=a.transformTo(h.uint8array?"uint8array":"array",l))},a.inherits(m,o),m.prototype.processChunk=function(l){var p=a.transformTo(h.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var c=p;(p=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),p.set(c,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var x=function(b,k){var O;for((k=k||b.length)>b.length&&(k=b.length),O=k-1;0<=O&&(192&b[O])==128;)O--;return O<0||O===0?k:O+u[b[O]]>k?O:k}(p),w=p;x!==p.length&&(h.uint8array?(w=p.subarray(0,x),this.leftOver=p.subarray(x,p.length)):(w=p.slice(0,x),this.leftOver=p.slice(x,p.length))),this.push({data:i.utf8decode(w),meta:l.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(M,o),M.prototype.processChunk=function(l){this.push({data:i.utf8encode(l.data),meta:l.meta})},i.Utf8EncodeWorker=M},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),h=r("./base64"),s=r("./nodejsUtils"),o=r("./external");function u(c){return c}function _(c,x){for(var w=0;w<c.length;++w)x[w]=255&c.charCodeAt(w);return x}r("setimmediate"),i.newBlob=function(c,x){i.checkSupport("blob");try{return new Blob([c],{type:x})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(c),w.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(c,x,w){var b=[],k=0,O=c.length;if(O<=w)return String.fromCharCode.apply(null,c);for(;k<O;)x==="array"||x==="nodebuffer"?b.push(String.fromCharCode.apply(null,c.slice(k,Math.min(k+w,O)))):b.push(String.fromCharCode.apply(null,c.subarray(k,Math.min(k+w,O)))),k+=w;return b.join("")},stringifyByChar:function(c){for(var x="",w=0;w<c.length;w++)x+=String.fromCharCode(c[w]);return x},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function M(c){var x=65536,w=i.getTypeOf(c),b=!0;if(w==="uint8array"?b=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(b=m.applyCanBeUsed.nodebuffer),b)for(;1<x;)try{return m.stringifyByChunk(c,w,x)}catch{x=Math.floor(x/2)}return m.stringifyByChar(c)}function l(c,x){for(var w=0;w<c.length;w++)x[w]=c[w];return x}i.applyFromCharCode=M;var p={};p.string={string:u,array:function(c){return _(c,new Array(c.length))},arraybuffer:function(c){return p.string.uint8array(c).buffer},uint8array:function(c){return _(c,new Uint8Array(c.length))},nodebuffer:function(c){return _(c,s.allocBuffer(c.length))}},p.array={string:M,array:u,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return s.newBufferFrom(c)}},p.arraybuffer={string:function(c){return M(new Uint8Array(c))},array:function(c){return l(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:u,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return s.newBufferFrom(new Uint8Array(c))}},p.uint8array={string:M,array:function(c){return l(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:u,nodebuffer:function(c){return s.newBufferFrom(c)}},p.nodebuffer={string:M,array:function(c){return l(c,new Array(c.length))},arraybuffer:function(c){return p.nodebuffer.uint8array(c).buffer},uint8array:function(c){return l(c,new Uint8Array(c.length))},nodebuffer:u},i.transformTo=function(c,x){if(x=x||"",!c)return x;i.checkSupport(c);var w=i.getTypeOf(x);return p[w][c](x)},i.resolve=function(c){for(var x=c.split("/"),w=[],b=0;b<x.length;b++){var k=x[b];k==="."||k===""&&b!==0&&b!==x.length-1||(k===".."?w.pop():w.push(k))}return w.join("/")},i.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(c)?"nodebuffer":a.uint8array&&c instanceof Uint8Array?"uint8array":a.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(c){if(!a[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(c){var x,w,b="";for(w=0;w<(c||"").length;w++)b+="\\x"+((x=c.charCodeAt(w))<16?"0":"")+x.toString(16).toUpperCase();return b},i.delay=function(c,x,w){setImmediate(function(){c.apply(w||null,x||[])})},i.inherits=function(c,x){function w(){}w.prototype=x.prototype,c.prototype=new w},i.extend=function(){var c,x,w={};for(c=0;c<arguments.length;c++)for(x in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],x)&&w[x]===void 0&&(w[x]=arguments[c][x]);return w},i.prepareContent=function(c,x,w,b,k){return o.Promise.resolve(x).then(function(O){return a.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new o.Promise(function(I,F){var B=new FileReader;B.onload=function(U){I(U.target.result)},B.onerror=function(U){F(U.target.error)},B.readAsArrayBuffer(O)}):O}).then(function(O){var I=i.getTypeOf(O);return I?(I==="arraybuffer"?O=i.transformTo("uint8array",O):I==="string"&&(k?O=h.decode(O):w&&b!==!0&&(O=function(F){return _(F,a.uint8array?new Uint8Array(F.length):new Array(F.length))}(O))),O):o.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),h=r("./utils"),s=r("./signature"),o=r("./zipEntry"),u=r("./support");function _(m){this.files=[],this.loadOptions=m}_.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var M=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(M)+", expected "+h.pretty(m)+")")}},isSignature:function(m,M){var l=this.reader.index;this.reader.setIndex(m);var p=this.reader.readString(4)===M;return this.reader.setIndex(l),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),M=u.uint8array?"uint8array":"array",l=h.transformTo(M,m);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,M,l,p=this.zip64EndOfCentralSize-44;0<p;)m=this.reader.readInt(2),M=this.reader.readInt(4),l=this.reader.readData(M),this.zip64ExtensibleData[m]={id:m,length:M,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,M;for(m=0;m<this.files.length;m++)M=this.files[m],this.reader.setIndex(M.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),M.readLocalPart(this.reader),M.handleUTF8(),M.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(m=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var M=m;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var p=M-l;if(0<p)this.isSignature(M,s.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),h=r("./utils"),s=r("./compressedObject"),o=r("./crc32"),u=r("./utf8"),_=r("./compressions"),m=r("./support");function M(l,p){this.options=l,this.loadOptions=p}M.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var p,c;if(l.skip(22),this.fileNameLength=l.readInt(2),c=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(x){for(var w in _)if(Object.prototype.hasOwnProperty.call(_,w)&&_[w].magic===x)return _[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,p,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var p=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(p),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=a(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var p,c,x,w=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<w;)p=l.readInt(2),c=l.readInt(2),x=l.readData(c),this.extraFields[p]={id:p,length:c,value:x};l.setIndex(w)},handleUTF8:function(){var l=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var c=h.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var w=h.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var p=a(l.value);return p.readInt(1)!==1||o(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var p=a(l.value);return p.readInt(1)!==1||o(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(l.length-5))}return null}},n.exports=M},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(p,c,x){this.name=p,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=c,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var h=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),o=r("./utf8"),u=r("./compressedObject"),_=r("./stream/GenericWorker");a.prototype={internalStream:function(p){var c=null,x="string";try{if(!p)throw new Error("No output type specified.");var w=(x=p.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),c=this._decompressWorker();var b=!this._dataBinary;b&&!w&&(c=c.pipe(new o.Utf8EncodeWorker)),!b&&w&&(c=c.pipe(new o.Utf8DecodeWorker))}catch(k){(c=new _("error")).error(k)}return new h(c,x,"")},async:function(p,c){return this.internalStream(p).accumulate(c)},nodeStream:function(p,c){return this.internalStream(p||"nodebuffer").toNodejsStream(c)},_compressWorker:function(p,c){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(x,p,c)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof _?this._data:new s(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],M=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<m.length;l++)a.prototype[m[l]]=M;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var h,s,o=a.MutationObserver||a.WebKitMutationObserver;if(o){var u=0,_=new o(p),m=a.document.createTextNode("");_.observe(m,{characterData:!0}),h=function(){m.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)h="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var c=a.document.createElement("script");c.onreadystatechange=function(){p(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},a.document.documentElement.appendChild(c)}:function(){setTimeout(p,0)};else{var M=new a.MessageChannel;M.port1.onmessage=p,h=function(){M.port2.postMessage(0)}}var l=[];function p(){var c,x;s=!0;for(var w=l.length;w;){for(x=l,l=[],c=-1;++c<w;)x[c]();w=l.length}s=!1}n.exports=function(c){l.push(c)!==1||s||h()}}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function h(){}var s={},o=["REJECTED"],u=["FULFILLED"],_=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,w!==h&&c(this,w)}function M(w,b,k){this.promise=w,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function l(w,b,k){a(function(){var O;try{O=b(k)}catch(I){return s.reject(w,I)}O===w?s.reject(w,new TypeError("Cannot resolve promise with itself")):s.resolve(w,O)})}function p(w){var b=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof b=="function")return function(){b.apply(w,arguments)}}function c(w,b){var k=!1;function O(B){k||(k=!0,s.reject(w,B))}function I(B){k||(k=!0,s.resolve(w,B))}var F=x(function(){b(I,O)});F.status==="error"&&O(F.value)}function x(w,b){var k={};try{k.value=w(b),k.status="success"}catch(O){k.status="error",k.value=O}return k}(n.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var b=this.constructor;return this.then(function(k){return b.resolve(w()).then(function(){return k})},function(k){return b.resolve(w()).then(function(){throw k})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,b){if(typeof w!="function"&&this.state===u||typeof b!="function"&&this.state===o)return this;var k=new this.constructor(h);return this.state!==_?l(k,this.state===u?w:b,this.outcome):this.queue.push(new M(k,w,b)),k},M.prototype.callFulfilled=function(w){s.resolve(this.promise,w)},M.prototype.otherCallFulfilled=function(w){l(this.promise,this.onFulfilled,w)},M.prototype.callRejected=function(w){s.reject(this.promise,w)},M.prototype.otherCallRejected=function(w){l(this.promise,this.onRejected,w)},s.resolve=function(w,b){var k=x(p,b);if(k.status==="error")return s.reject(w,k.value);var O=k.value;if(O)c(w,O);else{w.state=u,w.outcome=b;for(var I=-1,F=w.queue.length;++I<F;)w.queue[I].callFulfilled(b)}return w},s.reject=function(w,b){w.state=o,w.outcome=b;for(var k=-1,O=w.queue.length;++k<O;)w.queue[k].callRejected(b);return w},m.resolve=function(w){return w instanceof this?w:s.resolve(new this(h),w)},m.reject=function(w){var b=new this(h);return s.reject(b,w)},m.all=function(w){var b=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,O=!1;if(!k)return this.resolve([]);for(var I=new Array(k),F=0,B=-1,U=new this(h);++B<k;)z(w[B],B);return U;function z($,Y){b.resolve($).then(function(A){I[Y]=A,++F!==k||O||(O=!0,s.resolve(U,I))},function(A){O||(O=!0,s.reject(U,A))})}},m.race=function(w){var b=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,O=!1;if(!k)return this.resolve([]);for(var I=-1,F=new this(h);++I<k;)B=w[I],b.resolve(B).then(function(U){O||(O=!0,s.resolve(F,U))},function(U){O||(O=!0,s.reject(F,U))});var B;return F}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),h=r("./utils/common"),s=r("./utils/strings"),o=r("./zlib/messages"),u=r("./zlib/zstream"),_=Object.prototype.toString,m=0,M=-1,l=0,p=8;function c(w){if(!(this instanceof c))return new c(w);this.options=h.assign({level:M,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},w||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(k!==m)throw new Error(o[k]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var O;if(O=typeof b.dictionary=="string"?s.string2buf(b.dictionary):_.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(k=a.deflateSetDictionary(this.strm,O))!==m)throw new Error(o[k]);this._dict_set=!0}}function x(w,b){var k=new c(b);if(k.push(w,!0),k.err)throw k.msg||o[k.err];return k.result}c.prototype.push=function(w,b){var k,O,I=this.strm,F=this.options.chunkSize;if(this.ended)return!1;O=b===~~b?b:b===!0?4:0,typeof w=="string"?I.input=s.string2buf(w):_.call(w)==="[object ArrayBuffer]"?I.input=new Uint8Array(w):I.input=w,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new h.Buf8(F),I.next_out=0,I.avail_out=F),(k=a.deflate(I,O))!==1&&k!==m)return this.onEnd(k),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(h.shrinkBuf(I.output,I.next_out))):this.onData(h.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&k!==1);return O===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===m):O!==2||(this.onEnd(m),!(I.avail_out=0))},c.prototype.onData=function(w){this.chunks.push(w)},c.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=c,i.deflate=x,i.deflateRaw=function(w,b){return(b=b||{}).raw=!0,x(w,b)},i.gzip=function(w,b){return(b=b||{}).gzip=!0,x(w,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),h=r("./utils/common"),s=r("./utils/strings"),o=r("./zlib/constants"),u=r("./zlib/messages"),_=r("./zlib/zstream"),m=r("./zlib/gzheader"),M=Object.prototype.toString;function l(c){if(!(this instanceof l))return new l(c);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},c||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||c&&c.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,x.windowBits);if(w!==o.Z_OK)throw new Error(u[w]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function p(c,x){var w=new l(x);if(w.push(c,!0),w.err)throw w.msg||u[w.err];return w.result}l.prototype.push=function(c,x){var w,b,k,O,I,F,B=this.strm,U=this.options.chunkSize,z=this.options.dictionary,$=!1;if(this.ended)return!1;b=x===~~x?x:x===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof c=="string"?B.input=s.binstring2buf(c):M.call(c)==="[object ArrayBuffer]"?B.input=new Uint8Array(c):B.input=c,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new h.Buf8(U),B.next_out=0,B.avail_out=U),(w=a.inflate(B,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&z&&(F=typeof z=="string"?s.string2buf(z):M.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,w=a.inflateSetDictionary(this.strm,F)),w===o.Z_BUF_ERROR&&$===!0&&(w=o.Z_OK,$=!1),w!==o.Z_STREAM_END&&w!==o.Z_OK)return this.onEnd(w),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&w!==o.Z_STREAM_END&&(B.avail_in!==0||b!==o.Z_FINISH&&b!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=s.utf8border(B.output,B.next_out),O=B.next_out-k,I=s.buf2string(B.output,k),B.next_out=O,B.avail_out=U-O,O&&h.arraySet(B.output,B.output,k,O,0),this.onData(I)):this.onData(h.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&($=!0)}while((0<B.avail_in||B.avail_out===0)&&w!==o.Z_STREAM_END);return w===o.Z_STREAM_END&&(b=o.Z_FINISH),b===o.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===o.Z_OK):b!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(B.avail_out=0))},l.prototype.onData=function(c){this.chunks.push(c)},l.prototype.onEnd=function(c){c===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Inflate=l,i.inflate=p,i.inflateRaw=function(c,x){return(x=x||{}).raw=!0,p(c,x)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(o){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var _=u.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var m in _)_.hasOwnProperty(m)&&(o[m]=_[m])}}return o},i.shrinkBuf=function(o,u){return o.length===u?o:o.subarray?o.subarray(0,u):(o.length=u,o)};var h={arraySet:function(o,u,_,m,M){if(u.subarray&&o.subarray)o.set(u.subarray(_,_+m),M);else for(var l=0;l<m;l++)o[M+l]=u[_+l]},flattenChunks:function(o){var u,_,m,M,l,p;for(u=m=0,_=o.length;u<_;u++)m+=o[u].length;for(p=new Uint8Array(m),u=M=0,_=o.length;u<_;u++)l=o[u],p.set(l,M),M+=l.length;return p}},s={arraySet:function(o,u,_,m,M){for(var l=0;l<m;l++)o[M+l]=u[_+l]},flattenChunks:function(o){return[].concat.apply([],o)}};i.setTyped=function(o){o?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,h)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),h=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var o=new a.Buf8(256),u=0;u<256;u++)o[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function _(m,M){if(M<65537&&(m.subarray&&s||!m.subarray&&h))return String.fromCharCode.apply(null,a.shrinkBuf(m,M));for(var l="",p=0;p<M;p++)l+=String.fromCharCode(m[p]);return l}o[254]=o[254]=1,i.string2buf=function(m){var M,l,p,c,x,w=m.length,b=0;for(c=0;c<w;c++)(64512&(l=m.charCodeAt(c)))==55296&&c+1<w&&(64512&(p=m.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),c++),b+=l<128?1:l<2048?2:l<65536?3:4;for(M=new a.Buf8(b),c=x=0;x<b;c++)(64512&(l=m.charCodeAt(c)))==55296&&c+1<w&&(64512&(p=m.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),c++),l<128?M[x++]=l:(l<2048?M[x++]=192|l>>>6:(l<65536?M[x++]=224|l>>>12:(M[x++]=240|l>>>18,M[x++]=128|l>>>12&63),M[x++]=128|l>>>6&63),M[x++]=128|63&l);return M},i.buf2binstring=function(m){return _(m,m.length)},i.binstring2buf=function(m){for(var M=new a.Buf8(m.length),l=0,p=M.length;l<p;l++)M[l]=m.charCodeAt(l);return M},i.buf2string=function(m,M){var l,p,c,x,w=M||m.length,b=new Array(2*w);for(l=p=0;l<w;)if((c=m[l++])<128)b[p++]=c;else if(4<(x=o[c]))b[p++]=65533,l+=x-1;else{for(c&=x===2?31:x===3?15:7;1<x&&l<w;)c=c<<6|63&m[l++],x--;1<x?b[p++]=65533:c<65536?b[p++]=c:(c-=65536,b[p++]=55296|c>>10&1023,b[p++]=56320|1023&c)}return _(b,p)},i.utf8border=function(m,M){var l;for((M=M||m.length)>m.length&&(M=m.length),l=M-1;0<=l&&(192&m[l])==128;)l--;return l<0||l===0?M:l+o[m[l]]>M?l:M}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,h,s,o){for(var u=65535&a|0,_=a>>>16&65535|0,m=0;s!==0;){for(s-=m=2e3<s?2e3:s;_=_+(u=u+h[o++]|0)|0,--m;);u%=65521,_%=65521}return u|_<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=function(){for(var h,s=[],o=0;o<256;o++){h=o;for(var u=0;u<8;u++)h=1&h?3988292384^h>>>1:h>>>1;s[o]=h}return s}();n.exports=function(h,s,o,u){var _=a,m=u+o;h^=-1;for(var M=u;M<m;M++)h=h>>>8^_[255&(h^s[M])];return-1^h}},{}],46:[function(r,n,i){var a,h=r("../utils/common"),s=r("./trees"),o=r("./adler32"),u=r("./crc32"),_=r("./messages"),m=0,M=4,l=0,p=-2,c=-1,x=4,w=2,b=8,k=9,O=286,I=30,F=19,B=2*O+1,U=15,z=3,$=258,Y=$+z+1,A=42,D=113,y=1,q=2,rt=3,W=4;function st(f,j){return f.msg=_[j],j}function H(f){return(f<<1)-(4<f?9:0)}function et(f){for(var j=f.length;0<=--j;)f[j]=0}function R(f){var j=f.state,L=j.pending;L>f.avail_out&&(L=f.avail_out),L!==0&&(h.arraySet(f.output,j.pending_buf,j.pending_out,L,f.next_out),f.next_out+=L,j.pending_out+=L,f.total_out+=L,f.avail_out-=L,j.pending-=L,j.pending===0&&(j.pending_out=0))}function T(f,j){s._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,j),f.block_start=f.strstart,R(f.strm)}function tt(f,j){f.pending_buf[f.pending++]=j}function Q(f,j){f.pending_buf[f.pending++]=j>>>8&255,f.pending_buf[f.pending++]=255&j}function K(f,j){var L,d,v=f.max_chain_length,g=f.strstart,C=f.prev_length,E=f.nice_match,S=f.strstart>f.w_size-Y?f.strstart-(f.w_size-Y):0,N=f.window,G=f.w_mask,P=f.prev,X=f.strstart+$,ht=N[g+C-1],at=N[g+C];f.prev_length>=f.good_match&&(v>>=2),E>f.lookahead&&(E=f.lookahead);do if(N[(L=j)+C]===at&&N[L+C-1]===ht&&N[L]===N[g]&&N[++L]===N[g+1]){g+=2,L++;do;while(N[++g]===N[++L]&&N[++g]===N[++L]&&N[++g]===N[++L]&&N[++g]===N[++L]&&N[++g]===N[++L]&&N[++g]===N[++L]&&N[++g]===N[++L]&&N[++g]===N[++L]&&g<X);if(d=$-(X-g),g=X-$,C<d){if(f.match_start=j,E<=(C=d))break;ht=N[g+C-1],at=N[g+C]}}while((j=P[j&G])>S&&--v!=0);return C<=f.lookahead?C:f.lookahead}function ft(f){var j,L,d,v,g,C,E,S,N,G,P=f.w_size;do{if(v=f.window_size-f.lookahead-f.strstart,f.strstart>=P+(P-Y)){for(h.arraySet(f.window,f.window,P,P,0),f.match_start-=P,f.strstart-=P,f.block_start-=P,j=L=f.hash_size;d=f.head[--j],f.head[j]=P<=d?d-P:0,--L;);for(j=L=P;d=f.prev[--j],f.prev[j]=P<=d?d-P:0,--L;);v+=P}if(f.strm.avail_in===0)break;if(C=f.strm,E=f.window,S=f.strstart+f.lookahead,N=v,G=void 0,G=C.avail_in,N<G&&(G=N),L=G===0?0:(C.avail_in-=G,h.arraySet(E,C.input,C.next_in,G,S),C.state.wrap===1?C.adler=o(C.adler,E,G,S):C.state.wrap===2&&(C.adler=u(C.adler,E,G,S)),C.next_in+=G,C.total_in+=G,G),f.lookahead+=L,f.lookahead+f.insert>=z)for(g=f.strstart-f.insert,f.ins_h=f.window[g],f.ins_h=(f.ins_h<<f.hash_shift^f.window[g+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[g+z-1])&f.hash_mask,f.prev[g&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=g,g++,f.insert--,!(f.lookahead+f.insert<z)););}while(f.lookahead<Y&&f.strm.avail_in!==0)}function xt(f,j){for(var L,d;;){if(f.lookahead<Y){if(ft(f),f.lookahead<Y&&j===m)return y;if(f.lookahead===0)break}if(L=0,f.lookahead>=z&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,L=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),L!==0&&f.strstart-L<=f.w_size-Y&&(f.match_length=K(f,L)),f.match_length>=z)if(d=s._tr_tally(f,f.strstart-f.match_start,f.match_length-z),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=z){for(f.match_length--;f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,L=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart,--f.match_length!=0;);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else d=s._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(d&&(T(f,!1),f.strm.avail_out===0))return y}return f.insert=f.strstart<z-1?f.strstart:z-1,j===M?(T(f,!0),f.strm.avail_out===0?rt:W):f.last_lit&&(T(f,!1),f.strm.avail_out===0)?y:q}function nt(f,j){for(var L,d,v;;){if(f.lookahead<Y){if(ft(f),f.lookahead<Y&&j===m)return y;if(f.lookahead===0)break}if(L=0,f.lookahead>=z&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,L=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=z-1,L!==0&&f.prev_length<f.max_lazy_match&&f.strstart-L<=f.w_size-Y&&(f.match_length=K(f,L),f.match_length<=5&&(f.strategy===1||f.match_length===z&&4096<f.strstart-f.match_start)&&(f.match_length=z-1)),f.prev_length>=z&&f.match_length<=f.prev_length){for(v=f.strstart+f.lookahead-z,d=s._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-z),f.lookahead-=f.prev_length-1,f.prev_length-=2;++f.strstart<=v&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,L=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),--f.prev_length!=0;);if(f.match_available=0,f.match_length=z-1,f.strstart++,d&&(T(f,!1),f.strm.avail_out===0))return y}else if(f.match_available){if((d=s._tr_tally(f,0,f.window[f.strstart-1]))&&T(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return y}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(d=s._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<z-1?f.strstart:z-1,j===M?(T(f,!0),f.strm.avail_out===0?rt:W):f.last_lit&&(T(f,!1),f.strm.avail_out===0)?y:q}function ot(f,j,L,d,v){this.good_length=f,this.max_lazy=j,this.nice_length=L,this.max_chain=d,this.func=v}function _t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*B),this.dyn_dtree=new h.Buf16(2*(2*I+1)),this.bl_tree=new h.Buf16(2*(2*F+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(U+1),this.heap=new h.Buf16(2*O+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*O+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(f){var j;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=w,(j=f.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?A:D,f.adler=j.wrap===2?0:1,j.last_flush=m,s._tr_init(j),l):st(f,p)}function Ct(f){var j=ct(f);return j===l&&function(L){L.window_size=2*L.w_size,et(L.head),L.max_lazy_match=a[L.level].max_lazy,L.good_match=a[L.level].good_length,L.nice_match=a[L.level].nice_length,L.max_chain_length=a[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=z-1,L.match_available=0,L.ins_h=0}(f.state),j}function At(f,j,L,d,v,g){if(!f)return p;var C=1;if(j===c&&(j=6),d<0?(C=0,d=-d):15<d&&(C=2,d-=16),v<1||k<v||L!==b||d<8||15<d||j<0||9<j||g<0||x<g)return st(f,p);d===8&&(d=9);var E=new _t;return(f.state=E).strm=f,E.wrap=C,E.gzhead=null,E.w_bits=d,E.w_size=1<<E.w_bits,E.w_mask=E.w_size-1,E.hash_bits=v+7,E.hash_size=1<<E.hash_bits,E.hash_mask=E.hash_size-1,E.hash_shift=~~((E.hash_bits+z-1)/z),E.window=new h.Buf8(2*E.w_size),E.head=new h.Buf16(E.hash_size),E.prev=new h.Buf16(E.w_size),E.lit_bufsize=1<<v+6,E.pending_buf_size=4*E.lit_bufsize,E.pending_buf=new h.Buf8(E.pending_buf_size),E.d_buf=1*E.lit_bufsize,E.l_buf=3*E.lit_bufsize,E.level=j,E.strategy=g,E.method=L,Ct(f)}a=[new ot(0,0,0,0,function(f,j){var L=65535;for(L>f.pending_buf_size-5&&(L=f.pending_buf_size-5);;){if(f.lookahead<=1){if(ft(f),f.lookahead===0&&j===m)return y;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var d=f.block_start+L;if((f.strstart===0||f.strstart>=d)&&(f.lookahead=f.strstart-d,f.strstart=d,T(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-Y&&(T(f,!1),f.strm.avail_out===0))return y}return f.insert=0,j===M?(T(f,!0),f.strm.avail_out===0?rt:W):(f.strstart>f.block_start&&(T(f,!1),f.strm.avail_out),y)}),new ot(4,4,8,4,xt),new ot(4,5,16,8,xt),new ot(4,6,32,32,xt),new ot(4,4,16,16,nt),new ot(8,16,32,32,nt),new ot(8,16,128,128,nt),new ot(8,32,128,256,nt),new ot(32,128,258,1024,nt),new ot(32,258,258,4096,nt)],i.deflateInit=function(f,j){return At(f,j,b,15,8,0)},i.deflateInit2=At,i.deflateReset=Ct,i.deflateResetKeep=ct,i.deflateSetHeader=function(f,j){return f&&f.state?f.state.wrap!==2?p:(f.state.gzhead=j,l):p},i.deflate=function(f,j){var L,d,v,g;if(!f||!f.state||5<j||j<0)return f?st(f,p):p;if(d=f.state,!f.output||!f.input&&f.avail_in!==0||d.status===666&&j!==M)return st(f,f.avail_out===0?-5:p);if(d.strm=f,L=d.last_flush,d.last_flush=j,d.status===A)if(d.wrap===2)f.adler=0,tt(d,31),tt(d,139),tt(d,8),d.gzhead?(tt(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),tt(d,255&d.gzhead.time),tt(d,d.gzhead.time>>8&255),tt(d,d.gzhead.time>>16&255),tt(d,d.gzhead.time>>24&255),tt(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),tt(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(tt(d,255&d.gzhead.extra.length),tt(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(f.adler=u(f.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(tt(d,0),tt(d,0),tt(d,0),tt(d,0),tt(d,0),tt(d,d.level===9?2:2<=d.strategy||d.level<2?4:0),tt(d,3),d.status=D);else{var C=b+(d.w_bits-8<<4)<<8;C|=(2<=d.strategy||d.level<2?0:d.level<6?1:d.level===6?2:3)<<6,d.strstart!==0&&(C|=32),C+=31-C%31,d.status=D,Q(d,C),d.strstart!==0&&(Q(d,f.adler>>>16),Q(d,65535&f.adler)),f.adler=1}if(d.status===69)if(d.gzhead.extra){for(v=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>v&&(f.adler=u(f.adler,d.pending_buf,d.pending-v,v)),R(f),v=d.pending,d.pending!==d.pending_buf_size));)tt(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>v&&(f.adler=u(f.adler,d.pending_buf,d.pending-v,v)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(d.status===73)if(d.gzhead.name){v=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>v&&(f.adler=u(f.adler,d.pending_buf,d.pending-v,v)),R(f),v=d.pending,d.pending===d.pending_buf_size)){g=1;break}g=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,tt(d,g)}while(g!==0);d.gzhead.hcrc&&d.pending>v&&(f.adler=u(f.adler,d.pending_buf,d.pending-v,v)),g===0&&(d.gzindex=0,d.status=91)}else d.status=91;if(d.status===91)if(d.gzhead.comment){v=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>v&&(f.adler=u(f.adler,d.pending_buf,d.pending-v,v)),R(f),v=d.pending,d.pending===d.pending_buf_size)){g=1;break}g=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,tt(d,g)}while(g!==0);d.gzhead.hcrc&&d.pending>v&&(f.adler=u(f.adler,d.pending_buf,d.pending-v,v)),g===0&&(d.status=103)}else d.status=103;if(d.status===103&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&R(f),d.pending+2<=d.pending_buf_size&&(tt(d,255&f.adler),tt(d,f.adler>>8&255),f.adler=0,d.status=D)):d.status=D),d.pending!==0){if(R(f),f.avail_out===0)return d.last_flush=-1,l}else if(f.avail_in===0&&H(j)<=H(L)&&j!==M)return st(f,-5);if(d.status===666&&f.avail_in!==0)return st(f,-5);if(f.avail_in!==0||d.lookahead!==0||j!==m&&d.status!==666){var E=d.strategy===2?function(S,N){for(var G;;){if(S.lookahead===0&&(ft(S),S.lookahead===0)){if(N===m)return y;break}if(S.match_length=0,G=s._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++,G&&(T(S,!1),S.strm.avail_out===0))return y}return S.insert=0,N===M?(T(S,!0),S.strm.avail_out===0?rt:W):S.last_lit&&(T(S,!1),S.strm.avail_out===0)?y:q}(d,j):d.strategy===3?function(S,N){for(var G,P,X,ht,at=S.window;;){if(S.lookahead<=$){if(ft(S),S.lookahead<=$&&N===m)return y;if(S.lookahead===0)break}if(S.match_length=0,S.lookahead>=z&&0<S.strstart&&(P=at[X=S.strstart-1])===at[++X]&&P===at[++X]&&P===at[++X]){ht=S.strstart+$;do;while(P===at[++X]&&P===at[++X]&&P===at[++X]&&P===at[++X]&&P===at[++X]&&P===at[++X]&&P===at[++X]&&P===at[++X]&&X<ht);S.match_length=$-(ht-X),S.match_length>S.lookahead&&(S.match_length=S.lookahead)}if(S.match_length>=z?(G=s._tr_tally(S,1,S.match_length-z),S.lookahead-=S.match_length,S.strstart+=S.match_length,S.match_length=0):(G=s._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++),G&&(T(S,!1),S.strm.avail_out===0))return y}return S.insert=0,N===M?(T(S,!0),S.strm.avail_out===0?rt:W):S.last_lit&&(T(S,!1),S.strm.avail_out===0)?y:q}(d,j):a[d.level].func(d,j);if(E!==rt&&E!==W||(d.status=666),E===y||E===rt)return f.avail_out===0&&(d.last_flush=-1),l;if(E===q&&(j===1?s._tr_align(d):j!==5&&(s._tr_stored_block(d,0,0,!1),j===3&&(et(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),R(f),f.avail_out===0))return d.last_flush=-1,l}return j!==M?l:d.wrap<=0?1:(d.wrap===2?(tt(d,255&f.adler),tt(d,f.adler>>8&255),tt(d,f.adler>>16&255),tt(d,f.adler>>24&255),tt(d,255&f.total_in),tt(d,f.total_in>>8&255),tt(d,f.total_in>>16&255),tt(d,f.total_in>>24&255)):(Q(d,f.adler>>>16),Q(d,65535&f.adler)),R(f),0<d.wrap&&(d.wrap=-d.wrap),d.pending!==0?l:1)},i.deflateEnd=function(f){var j;return f&&f.state?(j=f.state.status)!==A&&j!==69&&j!==73&&j!==91&&j!==103&&j!==D&&j!==666?st(f,p):(f.state=null,j===D?st(f,-3):l):p},i.deflateSetDictionary=function(f,j){var L,d,v,g,C,E,S,N,G=j.length;if(!f||!f.state||(g=(L=f.state).wrap)===2||g===1&&L.status!==A||L.lookahead)return p;for(g===1&&(f.adler=o(f.adler,j,G,0)),L.wrap=0,G>=L.w_size&&(g===0&&(et(L.head),L.strstart=0,L.block_start=0,L.insert=0),N=new h.Buf8(L.w_size),h.arraySet(N,j,G-L.w_size,L.w_size,0),j=N,G=L.w_size),C=f.avail_in,E=f.next_in,S=f.input,f.avail_in=G,f.next_in=0,f.input=j,ft(L);L.lookahead>=z;){for(d=L.strstart,v=L.lookahead-(z-1);L.ins_h=(L.ins_h<<L.hash_shift^L.window[d+z-1])&L.hash_mask,L.prev[d&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=d,d++,--v;);L.strstart=d,L.lookahead=z-1,ft(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=z-1,L.match_available=0,f.next_in=E,f.input=S,f.avail_in=C,L.wrap=g,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,h){var s,o,u,_,m,M,l,p,c,x,w,b,k,O,I,F,B,U,z,$,Y,A,D,y,q;s=a.state,o=a.next_in,y=a.input,u=o+(a.avail_in-5),_=a.next_out,q=a.output,m=_-(h-a.avail_out),M=_+(a.avail_out-257),l=s.dmax,p=s.wsize,c=s.whave,x=s.wnext,w=s.window,b=s.hold,k=s.bits,O=s.lencode,I=s.distcode,F=(1<<s.lenbits)-1,B=(1<<s.distbits)-1;t:do{k<15&&(b+=y[o++]<<k,k+=8,b+=y[o++]<<k,k+=8),U=O[b&F];e:for(;;){if(b>>>=z=U>>>24,k-=z,(z=U>>>16&255)===0)q[_++]=65535&U;else{if(!(16&z)){if(!(64&z)){U=O[(65535&U)+(b&(1<<z)-1)];continue e}if(32&z){s.mode=12;break t}a.msg="invalid literal/length code",s.mode=30;break t}$=65535&U,(z&=15)&&(k<z&&(b+=y[o++]<<k,k+=8),$+=b&(1<<z)-1,b>>>=z,k-=z),k<15&&(b+=y[o++]<<k,k+=8,b+=y[o++]<<k,k+=8),U=I[b&B];r:for(;;){if(b>>>=z=U>>>24,k-=z,!(16&(z=U>>>16&255))){if(!(64&z)){U=I[(65535&U)+(b&(1<<z)-1)];continue r}a.msg="invalid distance code",s.mode=30;break t}if(Y=65535&U,k<(z&=15)&&(b+=y[o++]<<k,(k+=8)<z&&(b+=y[o++]<<k,k+=8)),l<(Y+=b&(1<<z)-1)){a.msg="invalid distance too far back",s.mode=30;break t}if(b>>>=z,k-=z,(z=_-m)<Y){if(c<(z=Y-z)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break t}if(D=w,(A=0)===x){if(A+=p-z,z<$){for($-=z;q[_++]=w[A++],--z;);A=_-Y,D=q}}else if(x<z){if(A+=p+x-z,(z-=x)<$){for($-=z;q[_++]=w[A++],--z;);if(A=0,x<$){for($-=z=x;q[_++]=w[A++],--z;);A=_-Y,D=q}}}else if(A+=x-z,z<$){for($-=z;q[_++]=w[A++],--z;);A=_-Y,D=q}for(;2<$;)q[_++]=D[A++],q[_++]=D[A++],q[_++]=D[A++],$-=3;$&&(q[_++]=D[A++],1<$&&(q[_++]=D[A++]))}else{for(A=_-Y;q[_++]=q[A++],q[_++]=q[A++],q[_++]=q[A++],2<($-=3););$&&(q[_++]=q[A++],1<$&&(q[_++]=q[A++]))}break}}break}}while(o<u&&_<M);o-=$=k>>3,b&=(1<<(k-=$<<3))-1,a.next_in=o,a.next_out=_,a.avail_in=o<u?u-o+5:5-(o-u),a.avail_out=_<M?M-_+257:257-(_-M),s.hold=b,s.bits=k}},{}],49:[function(r,n,i){var a=r("../utils/common"),h=r("./adler32"),s=r("./crc32"),o=r("./inffast"),u=r("./inftrees"),_=1,m=2,M=0,l=-2,p=1,c=852,x=592;function w(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(A){var D;return A&&A.state?(D=A.state,A.total_in=A.total_out=D.total=0,A.msg="",D.wrap&&(A.adler=1&D.wrap),D.mode=p,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new a.Buf32(c),D.distcode=D.distdyn=new a.Buf32(x),D.sane=1,D.back=-1,M):l}function O(A){var D;return A&&A.state?((D=A.state).wsize=0,D.whave=0,D.wnext=0,k(A)):l}function I(A,D){var y,q;return A&&A.state?(q=A.state,D<0?(y=0,D=-D):(y=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?l:(q.window!==null&&q.wbits!==D&&(q.window=null),q.wrap=y,q.wbits=D,O(A))):l}function F(A,D){var y,q;return A?(q=new b,(A.state=q).window=null,(y=I(A,D))!==M&&(A.state=null),y):l}var B,U,z=!0;function $(A){if(z){var D;for(B=new a.Buf32(512),U=new a.Buf32(32),D=0;D<144;)A.lens[D++]=8;for(;D<256;)A.lens[D++]=9;for(;D<280;)A.lens[D++]=7;for(;D<288;)A.lens[D++]=8;for(u(_,A.lens,0,288,B,0,A.work,{bits:9}),D=0;D<32;)A.lens[D++]=5;u(m,A.lens,0,32,U,0,A.work,{bits:5}),z=!1}A.lencode=B,A.lenbits=9,A.distcode=U,A.distbits=5}function Y(A,D,y,q){var rt,W=A.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new a.Buf8(W.wsize)),q>=W.wsize?(a.arraySet(W.window,D,y-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(q<(rt=W.wsize-W.wnext)&&(rt=q),a.arraySet(W.window,D,y-q,rt,W.wnext),(q-=rt)?(a.arraySet(W.window,D,y-q,q,0),W.wnext=q,W.whave=W.wsize):(W.wnext+=rt,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=rt))),0}i.inflateReset=O,i.inflateReset2=I,i.inflateResetKeep=k,i.inflateInit=function(A){return F(A,15)},i.inflateInit2=F,i.inflate=function(A,D){var y,q,rt,W,st,H,et,R,T,tt,Q,K,ft,xt,nt,ot,_t,ct,Ct,At,f,j,L,d,v=0,g=new a.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return l;(y=A.state).mode===12&&(y.mode=13),st=A.next_out,rt=A.output,et=A.avail_out,W=A.next_in,q=A.input,H=A.avail_in,R=y.hold,T=y.bits,tt=H,Q=et,j=M;t:for(;;)switch(y.mode){case p:if(y.wrap===0){y.mode=13;break}for(;T<16;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(2&y.wrap&&R===35615){g[y.check=0]=255&R,g[1]=R>>>8&255,y.check=s(y.check,g,2,0),T=R=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&R)<<8)+(R>>8))%31){A.msg="incorrect header check",y.mode=30;break}if((15&R)!=8){A.msg="unknown compression method",y.mode=30;break}if(T-=4,f=8+(15&(R>>>=4)),y.wbits===0)y.wbits=f;else if(f>y.wbits){A.msg="invalid window size",y.mode=30;break}y.dmax=1<<f,A.adler=y.check=1,y.mode=512&R?10:12,T=R=0;break;case 2:for(;T<16;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(y.flags=R,(255&y.flags)!=8){A.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){A.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=R>>8&1),512&y.flags&&(g[0]=255&R,g[1]=R>>>8&255,y.check=s(y.check,g,2,0)),T=R=0,y.mode=3;case 3:for(;T<32;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}y.head&&(y.head.time=R),512&y.flags&&(g[0]=255&R,g[1]=R>>>8&255,g[2]=R>>>16&255,g[3]=R>>>24&255,y.check=s(y.check,g,4,0)),T=R=0,y.mode=4;case 4:for(;T<16;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}y.head&&(y.head.xflags=255&R,y.head.os=R>>8),512&y.flags&&(g[0]=255&R,g[1]=R>>>8&255,y.check=s(y.check,g,2,0)),T=R=0,y.mode=5;case 5:if(1024&y.flags){for(;T<16;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}y.length=R,y.head&&(y.head.extra_len=R),512&y.flags&&(g[0]=255&R,g[1]=R>>>8&255,y.check=s(y.check,g,2,0)),T=R=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(H<(K=y.length)&&(K=H),K&&(y.head&&(f=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),a.arraySet(y.head.extra,q,W,K,f)),512&y.flags&&(y.check=s(y.check,q,K,W)),H-=K,W+=K,y.length-=K),y.length))break t;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(H===0)break t;for(K=0;f=q[W+K++],y.head&&f&&y.length<65536&&(y.head.name+=String.fromCharCode(f)),f&&K<H;);if(512&y.flags&&(y.check=s(y.check,q,K,W)),H-=K,W+=K,f)break t}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(H===0)break t;for(K=0;f=q[W+K++],y.head&&f&&y.length<65536&&(y.head.comment+=String.fromCharCode(f)),f&&K<H;);if(512&y.flags&&(y.check=s(y.check,q,K,W)),H-=K,W+=K,f)break t}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;T<16;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(R!==(65535&y.check)){A.msg="header crc mismatch",y.mode=30;break}T=R=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),A.adler=y.check=0,y.mode=12;break;case 10:for(;T<32;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}A.adler=y.check=w(R),T=R=0,y.mode=11;case 11:if(y.havedict===0)return A.next_out=st,A.avail_out=et,A.next_in=W,A.avail_in=H,y.hold=R,y.bits=T,2;A.adler=y.check=1,y.mode=12;case 12:if(D===5||D===6)break t;case 13:if(y.last){R>>>=7&T,T-=7&T,y.mode=27;break}for(;T<3;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}switch(y.last=1&R,T-=1,3&(R>>>=1)){case 0:y.mode=14;break;case 1:if($(y),y.mode=20,D!==6)break;R>>>=2,T-=2;break t;case 2:y.mode=17;break;case 3:A.msg="invalid block type",y.mode=30}R>>>=2,T-=2;break;case 14:for(R>>>=7&T,T-=7&T;T<32;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if((65535&R)!=(R>>>16^65535)){A.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&R,T=R=0,y.mode=15,D===6)break t;case 15:y.mode=16;case 16:if(K=y.length){if(H<K&&(K=H),et<K&&(K=et),K===0)break t;a.arraySet(rt,q,W,K,st),H-=K,W+=K,et-=K,st+=K,y.length-=K;break}y.mode=12;break;case 17:for(;T<14;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(y.nlen=257+(31&R),R>>>=5,T-=5,y.ndist=1+(31&R),R>>>=5,T-=5,y.ncode=4+(15&R),R>>>=4,T-=4,286<y.nlen||30<y.ndist){A.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;T<3;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}y.lens[C[y.have++]]=7&R,R>>>=3,T-=3}for(;y.have<19;)y.lens[C[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,L={bits:y.lenbits},j=u(0,y.lens,0,19,y.lencode,0,y.work,L),y.lenbits=L.bits,j){A.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;ot=(v=y.lencode[R&(1<<y.lenbits)-1])>>>16&255,_t=65535&v,!((nt=v>>>24)<=T);){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(_t<16)R>>>=nt,T-=nt,y.lens[y.have++]=_t;else{if(_t===16){for(d=nt+2;T<d;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(R>>>=nt,T-=nt,y.have===0){A.msg="invalid bit length repeat",y.mode=30;break}f=y.lens[y.have-1],K=3+(3&R),R>>>=2,T-=2}else if(_t===17){for(d=nt+3;T<d;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}T-=nt,f=0,K=3+(7&(R>>>=nt)),R>>>=3,T-=3}else{for(d=nt+7;T<d;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}T-=nt,f=0,K=11+(127&(R>>>=nt)),R>>>=7,T-=7}if(y.have+K>y.nlen+y.ndist){A.msg="invalid bit length repeat",y.mode=30;break}for(;K--;)y.lens[y.have++]=f}}if(y.mode===30)break;if(y.lens[256]===0){A.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,L={bits:y.lenbits},j=u(_,y.lens,0,y.nlen,y.lencode,0,y.work,L),y.lenbits=L.bits,j){A.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,L={bits:y.distbits},j=u(m,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,L),y.distbits=L.bits,j){A.msg="invalid distances set",y.mode=30;break}if(y.mode=20,D===6)break t;case 20:y.mode=21;case 21:if(6<=H&&258<=et){A.next_out=st,A.avail_out=et,A.next_in=W,A.avail_in=H,y.hold=R,y.bits=T,o(A,Q),st=A.next_out,rt=A.output,et=A.avail_out,W=A.next_in,q=A.input,H=A.avail_in,R=y.hold,T=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;ot=(v=y.lencode[R&(1<<y.lenbits)-1])>>>16&255,_t=65535&v,!((nt=v>>>24)<=T);){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(ot&&!(240&ot)){for(ct=nt,Ct=ot,At=_t;ot=(v=y.lencode[At+((R&(1<<ct+Ct)-1)>>ct)])>>>16&255,_t=65535&v,!(ct+(nt=v>>>24)<=T);){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}R>>>=ct,T-=ct,y.back+=ct}if(R>>>=nt,T-=nt,y.back+=nt,y.length=_t,ot===0){y.mode=26;break}if(32&ot){y.back=-1,y.mode=12;break}if(64&ot){A.msg="invalid literal/length code",y.mode=30;break}y.extra=15&ot,y.mode=22;case 22:if(y.extra){for(d=y.extra;T<d;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}y.length+=R&(1<<y.extra)-1,R>>>=y.extra,T-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;ot=(v=y.distcode[R&(1<<y.distbits)-1])>>>16&255,_t=65535&v,!((nt=v>>>24)<=T);){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(!(240&ot)){for(ct=nt,Ct=ot,At=_t;ot=(v=y.distcode[At+((R&(1<<ct+Ct)-1)>>ct)])>>>16&255,_t=65535&v,!(ct+(nt=v>>>24)<=T);){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}R>>>=ct,T-=ct,y.back+=ct}if(R>>>=nt,T-=nt,y.back+=nt,64&ot){A.msg="invalid distance code",y.mode=30;break}y.offset=_t,y.extra=15&ot,y.mode=24;case 24:if(y.extra){for(d=y.extra;T<d;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}y.offset+=R&(1<<y.extra)-1,R>>>=y.extra,T-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){A.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(et===0)break t;if(K=Q-et,y.offset>K){if((K=y.offset-K)>y.whave&&y.sane){A.msg="invalid distance too far back",y.mode=30;break}ft=K>y.wnext?(K-=y.wnext,y.wsize-K):y.wnext-K,K>y.length&&(K=y.length),xt=y.window}else xt=rt,ft=st-y.offset,K=y.length;for(et<K&&(K=et),et-=K,y.length-=K;rt[st++]=xt[ft++],--K;);y.length===0&&(y.mode=21);break;case 26:if(et===0)break t;rt[st++]=y.length,et--,y.mode=21;break;case 27:if(y.wrap){for(;T<32;){if(H===0)break t;H--,R|=q[W++]<<T,T+=8}if(Q-=et,A.total_out+=Q,y.total+=Q,Q&&(A.adler=y.check=y.flags?s(y.check,rt,Q,st-Q):h(y.check,rt,Q,st-Q)),Q=et,(y.flags?R:w(R))!==y.check){A.msg="incorrect data check",y.mode=30;break}T=R=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;T<32;){if(H===0)break t;H--,R+=q[W++]<<T,T+=8}if(R!==(4294967295&y.total)){A.msg="incorrect length check",y.mode=30;break}T=R=0}y.mode=29;case 29:j=1;break t;case 30:j=-3;break t;case 31:return-4;case 32:default:return l}return A.next_out=st,A.avail_out=et,A.next_in=W,A.avail_in=H,y.hold=R,y.bits=T,(y.wsize||Q!==A.avail_out&&y.mode<30&&(y.mode<27||D!==4))&&Y(A,A.output,A.next_out,Q-A.avail_out)?(y.mode=31,-4):(tt-=A.avail_in,Q-=A.avail_out,A.total_in+=tt,A.total_out+=Q,y.total+=Q,y.wrap&&Q&&(A.adler=y.check=y.flags?s(y.check,rt,Q,A.next_out-Q):h(y.check,rt,Q,A.next_out-Q)),A.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(tt==0&&Q===0||D===4)&&j===M&&(j=-5),j)},i.inflateEnd=function(A){if(!A||!A.state)return l;var D=A.state;return D.window&&(D.window=null),A.state=null,M},i.inflateGetHeader=function(A,D){var y;return A&&A.state&&2&(y=A.state).wrap?((y.head=D).done=!1,M):l},i.inflateSetDictionary=function(A,D){var y,q=D.length;return A&&A.state?(y=A.state).wrap!==0&&y.mode!==11?l:y.mode===11&&h(1,D,q,0)!==y.check?-3:Y(A,D,q,q)?(y.mode=31,-4):(y.havedict=1,M):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(_,m,M,l,p,c,x,w){var b,k,O,I,F,B,U,z,$,Y=w.bits,A=0,D=0,y=0,q=0,rt=0,W=0,st=0,H=0,et=0,R=0,T=null,tt=0,Q=new a.Buf16(16),K=new a.Buf16(16),ft=null,xt=0;for(A=0;A<=15;A++)Q[A]=0;for(D=0;D<l;D++)Q[m[M+D]]++;for(rt=Y,q=15;1<=q&&Q[q]===0;q--);if(q<rt&&(rt=q),q===0)return p[c++]=20971520,p[c++]=20971520,w.bits=1,0;for(y=1;y<q&&Q[y]===0;y++);for(rt<y&&(rt=y),A=H=1;A<=15;A++)if(H<<=1,(H-=Q[A])<0)return-1;if(0<H&&(_===0||q!==1))return-1;for(K[1]=0,A=1;A<15;A++)K[A+1]=K[A]+Q[A];for(D=0;D<l;D++)m[M+D]!==0&&(x[K[m[M+D]]++]=D);if(B=_===0?(T=ft=x,19):_===1?(T=h,tt-=257,ft=s,xt-=257,256):(T=o,ft=u,-1),A=y,F=c,st=D=R=0,O=-1,I=(et=1<<(W=rt))-1,_===1&&852<et||_===2&&592<et)return 1;for(;;){for(U=A-st,$=x[D]<B?(z=0,x[D]):x[D]>B?(z=ft[xt+x[D]],T[tt+x[D]]):(z=96,0),b=1<<A-st,y=k=1<<W;p[F+(R>>st)+(k-=b)]=U<<24|z<<16|$|0,k!==0;);for(b=1<<A-1;R&b;)b>>=1;if(b!==0?(R&=b-1,R+=b):R=0,D++,--Q[A]==0){if(A===q)break;A=m[M+x[D]]}if(rt<A&&(R&I)!==O){for(st===0&&(st=rt),F+=y,H=1<<(W=A-st);W+st<q&&!((H-=Q[W+st])<=0);)W++,H<<=1;if(et+=1<<W,_===1&&852<et||_===2&&592<et)return 1;p[O=R&I]=rt<<24|W<<16|F-c|0}}return R!==0&&(p[F+R]=A-st<<24|64<<16|0),w.bits=rt,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),h=0,s=1;function o(v){for(var g=v.length;0<=--g;)v[g]=0}var u=0,_=29,m=256,M=m+1+_,l=30,p=19,c=2*M+1,x=15,w=16,b=7,k=256,O=16,I=17,F=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(M+2));o(Y);var A=new Array(2*l);o(A);var D=new Array(512);o(D);var y=new Array(256);o(y);var q=new Array(_);o(q);var rt,W,st,H=new Array(l);function et(v,g,C,E,S){this.static_tree=v,this.extra_bits=g,this.extra_base=C,this.elems=E,this.max_length=S,this.has_stree=v&&v.length}function R(v,g){this.dyn_tree=v,this.max_code=0,this.stat_desc=g}function T(v){return v<256?D[v]:D[256+(v>>>7)]}function tt(v,g){v.pending_buf[v.pending++]=255&g,v.pending_buf[v.pending++]=g>>>8&255}function Q(v,g,C){v.bi_valid>w-C?(v.bi_buf|=g<<v.bi_valid&65535,tt(v,v.bi_buf),v.bi_buf=g>>w-v.bi_valid,v.bi_valid+=C-w):(v.bi_buf|=g<<v.bi_valid&65535,v.bi_valid+=C)}function K(v,g,C){Q(v,C[2*g],C[2*g+1])}function ft(v,g){for(var C=0;C|=1&v,v>>>=1,C<<=1,0<--g;);return C>>>1}function xt(v,g,C){var E,S,N=new Array(x+1),G=0;for(E=1;E<=x;E++)N[E]=G=G+C[E-1]<<1;for(S=0;S<=g;S++){var P=v[2*S+1];P!==0&&(v[2*S]=ft(N[P]++,P))}}function nt(v){var g;for(g=0;g<M;g++)v.dyn_ltree[2*g]=0;for(g=0;g<l;g++)v.dyn_dtree[2*g]=0;for(g=0;g<p;g++)v.bl_tree[2*g]=0;v.dyn_ltree[2*k]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ot(v){8<v.bi_valid?tt(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function _t(v,g,C,E){var S=2*g,N=2*C;return v[S]<v[N]||v[S]===v[N]&&E[g]<=E[C]}function ct(v,g,C){for(var E=v.heap[C],S=C<<1;S<=v.heap_len&&(S<v.heap_len&&_t(g,v.heap[S+1],v.heap[S],v.depth)&&S++,!_t(g,E,v.heap[S],v.depth));)v.heap[C]=v.heap[S],C=S,S<<=1;v.heap[C]=E}function Ct(v,g,C){var E,S,N,G,P=0;if(v.last_lit!==0)for(;E=v.pending_buf[v.d_buf+2*P]<<8|v.pending_buf[v.d_buf+2*P+1],S=v.pending_buf[v.l_buf+P],P++,E===0?K(v,S,g):(K(v,(N=y[S])+m+1,g),(G=B[N])!==0&&Q(v,S-=q[N],G),K(v,N=T(--E),C),(G=U[N])!==0&&Q(v,E-=H[N],G)),P<v.last_lit;);K(v,k,g)}function At(v,g){var C,E,S,N=g.dyn_tree,G=g.stat_desc.static_tree,P=g.stat_desc.has_stree,X=g.stat_desc.elems,ht=-1;for(v.heap_len=0,v.heap_max=c,C=0;C<X;C++)N[2*C]!==0?(v.heap[++v.heap_len]=ht=C,v.depth[C]=0):N[2*C+1]=0;for(;v.heap_len<2;)N[2*(S=v.heap[++v.heap_len]=ht<2?++ht:0)]=1,v.depth[S]=0,v.opt_len--,P&&(v.static_len-=G[2*S+1]);for(g.max_code=ht,C=v.heap_len>>1;1<=C;C--)ct(v,N,C);for(S=X;C=v.heap[1],v.heap[1]=v.heap[v.heap_len--],ct(v,N,1),E=v.heap[1],v.heap[--v.heap_max]=C,v.heap[--v.heap_max]=E,N[2*S]=N[2*C]+N[2*E],v.depth[S]=(v.depth[C]>=v.depth[E]?v.depth[C]:v.depth[E])+1,N[2*C+1]=N[2*E+1]=S,v.heap[1]=S++,ct(v,N,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(at,gt){var Ht,Bt,oe,mt,Ie,Ke,jt=gt.dyn_tree,gr=gt.max_code,Ci=gt.stat_desc.static_tree,Si=gt.stat_desc.has_stree,ki=gt.stat_desc.extra_bits,yr=gt.stat_desc.extra_base,le=gt.stat_desc.max_length,Oe=0;for(mt=0;mt<=x;mt++)at.bl_count[mt]=0;for(jt[2*at.heap[at.heap_max]+1]=0,Ht=at.heap_max+1;Ht<c;Ht++)le<(mt=jt[2*jt[2*(Bt=at.heap[Ht])+1]+1]+1)&&(mt=le,Oe++),jt[2*Bt+1]=mt,gr<Bt||(at.bl_count[mt]++,Ie=0,yr<=Bt&&(Ie=ki[Bt-yr]),Ke=jt[2*Bt],at.opt_len+=Ke*(mt+Ie),Si&&(at.static_len+=Ke*(Ci[2*Bt+1]+Ie)));if(Oe!==0){do{for(mt=le-1;at.bl_count[mt]===0;)mt--;at.bl_count[mt]--,at.bl_count[mt+1]+=2,at.bl_count[le]--,Oe-=2}while(0<Oe);for(mt=le;mt!==0;mt--)for(Bt=at.bl_count[mt];Bt!==0;)gr<(oe=at.heap[--Ht])||(jt[2*oe+1]!==mt&&(at.opt_len+=(mt-jt[2*oe+1])*jt[2*oe],jt[2*oe+1]=mt),Bt--)}}(v,g),xt(N,ht,v.bl_count)}function f(v,g,C){var E,S,N=-1,G=g[1],P=0,X=7,ht=4;for(G===0&&(X=138,ht=3),g[2*(C+1)+1]=65535,E=0;E<=C;E++)S=G,G=g[2*(E+1)+1],++P<X&&S===G||(P<ht?v.bl_tree[2*S]+=P:S!==0?(S!==N&&v.bl_tree[2*S]++,v.bl_tree[2*O]++):P<=10?v.bl_tree[2*I]++:v.bl_tree[2*F]++,N=S,ht=(P=0)===G?(X=138,3):S===G?(X=6,3):(X=7,4))}function j(v,g,C){var E,S,N=-1,G=g[1],P=0,X=7,ht=4;for(G===0&&(X=138,ht=3),E=0;E<=C;E++)if(S=G,G=g[2*(E+1)+1],!(++P<X&&S===G)){if(P<ht)for(;K(v,S,v.bl_tree),--P!=0;);else S!==0?(S!==N&&(K(v,S,v.bl_tree),P--),K(v,O,v.bl_tree),Q(v,P-3,2)):P<=10?(K(v,I,v.bl_tree),Q(v,P-3,3)):(K(v,F,v.bl_tree),Q(v,P-11,7));N=S,ht=(P=0)===G?(X=138,3):S===G?(X=6,3):(X=7,4)}}o(H);var L=!1;function d(v,g,C,E){Q(v,(u<<1)+(E?1:0),3),function(S,N,G,P){ot(S),P&&(tt(S,G),tt(S,~G)),a.arraySet(S.pending_buf,S.window,N,G,S.pending),S.pending+=G}(v,g,C,!0)}i._tr_init=function(v){L||(function(){var g,C,E,S,N,G=new Array(x+1);for(S=E=0;S<_-1;S++)for(q[S]=E,g=0;g<1<<B[S];g++)y[E++]=S;for(y[E-1]=S,S=N=0;S<16;S++)for(H[S]=N,g=0;g<1<<U[S];g++)D[N++]=S;for(N>>=7;S<l;S++)for(H[S]=N<<7,g=0;g<1<<U[S]-7;g++)D[256+N++]=S;for(C=0;C<=x;C++)G[C]=0;for(g=0;g<=143;)Y[2*g+1]=8,g++,G[8]++;for(;g<=255;)Y[2*g+1]=9,g++,G[9]++;for(;g<=279;)Y[2*g+1]=7,g++,G[7]++;for(;g<=287;)Y[2*g+1]=8,g++,G[8]++;for(xt(Y,M+1,G),g=0;g<l;g++)A[2*g+1]=5,A[2*g]=ft(g,5);rt=new et(Y,B,m+1,M,x),W=new et(A,U,0,l,x),st=new et(new Array(0),z,0,p,b)}(),L=!0),v.l_desc=new R(v.dyn_ltree,rt),v.d_desc=new R(v.dyn_dtree,W),v.bl_desc=new R(v.bl_tree,st),v.bi_buf=0,v.bi_valid=0,nt(v)},i._tr_stored_block=d,i._tr_flush_block=function(v,g,C,E){var S,N,G=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(P){var X,ht=4093624447;for(X=0;X<=31;X++,ht>>>=1)if(1&ht&&P.dyn_ltree[2*X]!==0)return h;if(P.dyn_ltree[18]!==0||P.dyn_ltree[20]!==0||P.dyn_ltree[26]!==0)return s;for(X=32;X<m;X++)if(P.dyn_ltree[2*X]!==0)return s;return h}(v)),At(v,v.l_desc),At(v,v.d_desc),G=function(P){var X;for(f(P,P.dyn_ltree,P.l_desc.max_code),f(P,P.dyn_dtree,P.d_desc.max_code),At(P,P.bl_desc),X=p-1;3<=X&&P.bl_tree[2*$[X]+1]===0;X--);return P.opt_len+=3*(X+1)+5+5+4,X}(v),S=v.opt_len+3+7>>>3,(N=v.static_len+3+7>>>3)<=S&&(S=N)):S=N=C+5,C+4<=S&&g!==-1?d(v,g,C,E):v.strategy===4||N===S?(Q(v,2+(E?1:0),3),Ct(v,Y,A)):(Q(v,4+(E?1:0),3),function(P,X,ht,at){var gt;for(Q(P,X-257,5),Q(P,ht-1,5),Q(P,at-4,4),gt=0;gt<at;gt++)Q(P,P.bl_tree[2*$[gt]+1],3);j(P,P.dyn_ltree,X-1),j(P,P.dyn_dtree,ht-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,G+1),Ct(v,v.dyn_ltree,v.dyn_dtree)),nt(v),E&&ot(v)},i._tr_tally=function(v,g,C){return v.pending_buf[v.d_buf+2*v.last_lit]=g>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&g,v.pending_buf[v.l_buf+v.last_lit]=255&C,v.last_lit++,g===0?v.dyn_ltree[2*C]++:(v.matches++,g--,v.dyn_ltree[2*(y[C]+m+1)]++,v.dyn_dtree[2*T(g)]++),v.last_lit===v.lit_bufsize-1},i._tr_align=function(v){Q(v,2,3),K(v,k,Y),function(g){g.bi_valid===16?(tt(g,g.bi_buf),g.bi_buf=0,g.bi_valid=0):8<=g.bi_valid&&(g.pending_buf[g.pending++]=255&g.bi_buf,g.bi_buf>>=8,g.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(h,s){if(!h.setImmediate){var o,u,_,m,M=1,l={},p=!1,c=h.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(h);x=x&&x.setTimeout?x:h,o={}.toString.call(h.process)==="[object process]"?function(O){process.nextTick(function(){b(O)})}:function(){if(h.postMessage&&!h.importScripts){var O=!0,I=h.onmessage;return h.onmessage=function(){O=!1},h.postMessage("","*"),h.onmessage=I,O}}()?(m="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",k,!1):h.attachEvent("onmessage",k),function(O){h.postMessage(m+O,"*")}):h.MessageChannel?((_=new MessageChannel).port1.onmessage=function(O){b(O.data)},function(O){_.port2.postMessage(O)}):c&&"onreadystatechange"in c.createElement("script")?(u=c.documentElement,function(O){var I=c.createElement("script");I.onreadystatechange=function(){b(O),I.onreadystatechange=null,u.removeChild(I),I=null},u.appendChild(I)}):function(O){setTimeout(b,0,O)},x.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var I=new Array(arguments.length-1),F=0;F<I.length;F++)I[F]=arguments[F+1];var B={callback:O,args:I};return l[M]=B,o(M),M++},x.clearImmediate=w}function w(O){delete l[O]}function b(O){if(p)setTimeout(b,0,O);else{var I=l[O];if(I){p=!0;try{(function(F){var B=F.callback,U=F.args;switch(U.length){case 0:B();break;case 1:B(U[0]);break;case 2:B(U[0],U[1]);break;case 3:B(U[0],U[1],U[2]);break;default:B.apply(s,U)}})(I)}finally{w(O),p=!1}}}}function k(O){O.source===h&&typeof O.data=="string"&&O.data.indexOf(m)===0&&b(+O.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Io);const Oo=ir;var No=async t=>{const e=new Oo;await e.loadAsync(t);const r=e.file(/.+/),n={};return await Promise.all(r.map(async i=>{let a;i.name.slice(-3).toLowerCase()==="shp"||i.name.slice(-3).toLowerCase()==="dbf"?a=await i.async("nodebuffer"):a=await i.async("text"),n[i.name]=a})),n},Lr=yt.MutationObserver||yt.WebKitMutationObserver,me;if(Lr){var Dr=0,Po=new Lr(Te),Ur=yt.document.createTextNode("");Po.observe(Ur,{characterData:!0}),me=function(){Ur.data=Dr=++Dr%2}}else if(!yt.setImmediate&&typeof yt.MessageChannel<"u"){var jr=new yt.MessageChannel;jr.port1.onmessage=Te,me=function(){jr.port2.postMessage(0)}}else"document"in yt&&"onreadystatechange"in yt.document.createElement("script")?me=function(){var t=yt.document.createElement("script");t.onreadystatechange=function(){Te(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},yt.document.documentElement.appendChild(t)}:me=function(){setTimeout(Te,0)};var ar,ve=[];function Te(){ar=!0;for(var t,e,r=ve.length;r;){for(e=ve,ve=[],t=-1;++t<r;)e[t]();r=ve.length}ar=!1}var Fo=To;function To(t){ve.push(t)===1&&!ar&&me()}var Ro=Fo;function he(){}var Et={},_i=["REJECTED"],sr=["FULFILLED"],gi=["PENDING"],yi=Zt;function Zt(t){if(typeof t!="function")throw new TypeError("resolver must be a function");this.state=gi,this.queue=[],this.outcome=void 0,t!==he&&xi(this,t)}Zt.prototype.finally=function(t){if(typeof t!="function")return this;var e=this.constructor;return this.then(r,n);function r(i){function a(){return i}return e.resolve(t()).then(a)}function n(i){function a(){throw i}return e.resolve(t()).then(a)}};Zt.prototype.catch=function(t){return this.then(null,t)};Zt.prototype.then=function(t,e){if(typeof t!="function"&&this.state===sr||typeof e!="function"&&this.state===_i)return this;var r=new this.constructor(he);if(this.state!==gi){var n=this.state===sr?t:e;dr(r,n,this.outcome)}else this.queue.push(new ke(r,t,e));return r};function ke(t,e,r){this.promise=t,typeof e=="function"&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}ke.prototype.callFulfilled=function(t){Et.resolve(this.promise,t)};ke.prototype.otherCallFulfilled=function(t){dr(this.promise,this.onFulfilled,t)};ke.prototype.callRejected=function(t){Et.reject(this.promise,t)};ke.prototype.otherCallRejected=function(t){dr(this.promise,this.onRejected,t)};function dr(t,e,r){Ro(function(){var n;try{n=e(r)}catch(i){return Et.reject(t,i)}n===t?Et.reject(t,new TypeError("Cannot resolve promise with itself")):Et.resolve(t,n)})}Et.resolve=function(t,e){var r=Mi(Bo,e);if(r.status==="error")return Et.reject(t,r.value);var n=r.value;if(n)xi(t,n);else{t.state=sr,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t};Et.reject=function(t,e){t.state=_i,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t};function Bo(t){var e=t&&t.then;if(t&&(typeof t=="object"||typeof t=="function")&&typeof e=="function")return function(){e.apply(t,arguments)}}function xi(t,e){var r=!1;function n(s){r||(r=!0,Et.reject(t,s))}function i(s){r||(r=!0,Et.resolve(t,s))}function a(){e(i,n)}var h=Mi(a);h.status==="error"&&n(h.value)}function Mi(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}Zt.resolve=zo;function zo(t){return t instanceof this?t:Et.resolve(new this(he),t)}Zt.reject=Lo;function Lo(t){var e=new this(he);return Et.reject(e,t)}Zt.all=Do;function Do(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),a=0,h=-1,s=new this(he);++h<r;)o(t[h],h);return s;function o(u,_){e.resolve(u).then(m,function(M){n||(n=!0,Et.reject(s,M))});function m(M){i[_]=M,++a===r&&!n&&(n=!0,Et.resolve(s,i))}}}Zt.race=Uo;function Uo(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=-1,a=new this(he);++i<r;)h(t[i]);return a;function h(s){e.resolve(s).then(function(o){n||(n=!0,Et.resolve(a,o))},function(o){n||(n=!0,Et.reject(a,o))})}}const jo=yt.URL;var wi=(t,e)=>{if(!e)return t;const r=new jo(t);return r.pathname=`${r.pathname}.${e}`,r.href};const Ze=Hr(Ai),qo=yi,Go=wi,$o=Ze.Buffer;var Wo=Zo;function Zo(t,e){return new qo(function(r,n){const i=Go(t,e),a=new XMLHttpRequest;a.open("GET",i,!0),e!=="prj"&&e!=="cpg"&&(a.responseType="arraybuffer"),a.addEventListener("load",function(){return a.status>399?e==="prj"||e==="cpg"?r(!1):n(new Error(a.status)):r(e!=="prj"&&e!=="cpg"?$o.from(a.response):a.response)},!1),a.send()})}const Ho=Wo,Ko=wi,Jo=Ze.Buffer;var Xo=async function(e,r){if(!yt.fetch)return Ho(e,r);const n=Ko(e,r),i=r==="prj"||r==="cpg";try{const a=await fetch(n);if(a.status>399)throw new Error(a.statusText);if(i)return a.text();const h=await a.arrayBuffer();return Jo.from(h)}catch(a){if(console.log("ERROR",a,r),i||r==="dbf")return!1;throw a}};function Qo(t){let e=0,r=1;const n=t.length;let i,a;for(;r<n;)i=a||t[0],a=t[r],e+=(a[0]-i[0])*(a[1]+i[1]),r++;return e>0}function Vo(t,e){return Qo(e)||!t.length?t.push([e]):t[t.length-1].push(e),t}pt.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}};pt.prototype.parseZPoint=function(t){const e=this.parsePoint(t);return e.coordinates.push(t.readDoubleLE(16)),e};pt.prototype.parsePointArray=function(t,e,r){const n=[];let i=0;for(;i<r;)n.push(this.parseCoord(t,e)),e+=16,i++;return n};pt.prototype.parseZPointArray=function(t,e,r,n){let i=0;for(;i<r;)n[i].push(t.readDoubleLE(e)),i++,e+=8;return n};pt.prototype.parseArrayGroup=function(t,e,r,n,i){const a=[];let h=0,s,o=0,u;for(;h<n;)h++,r+=4,s=o,h===n?o=i:o=t.readInt32LE(r),u=o-s,u&&(a.push(this.parsePointArray(t,e,u)),e+=u<<4);return a};pt.prototype.parseZArrayGroup=function(t,e,r,n){let i=0;for(;i<r;)n[i]=this.parseZPointArray(t,e,n[i].length,n[i]),e+=n[i].length<<3,i++;return n};pt.prototype.parseMultiPoint=function(t){const e={},r=t.readInt32LE(32,!0);if(!r)return null;const n=this.parseCoord(t,0),i=this.parseCoord(t,16);e.bbox=[n[0],n[1],i[0],i[1]];const a=36;return r===1?(e.type="Point",e.coordinates=this.parseCoord(t,a)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(t,a,r)),e};pt.prototype.parseZMultiPoint=function(t){const e=this.parseMultiPoint(t);if(!e)return null;let r;if(e.type==="Point")return e.coordinates.push(t.readDoubleLE(72)),e;r=e.coordinates.length;const n=52+(r<<4);return e.coordinates=this.parseZPointArray(t,n,r,e.coordinates),e};pt.prototype.parsePolyline=function(t){const e={},r=t.readInt32LE(32);if(!r)return null;const n=this.parseCoord(t,0),i=this.parseCoord(t,16);e.bbox=[n[0],n[1],i[0],i[1]];const a=t.readInt32LE(36);let h,s;return r===1?(e.type="LineString",h=44,e.coordinates=this.parsePointArray(t,h,a)):(e.type="MultiLineString",h=40+(r<<2),s=40,e.coordinates=this.parseArrayGroup(t,h,s,r,a)),e};pt.prototype.parseZPolyline=function(t){const e=this.parsePolyline(t);if(!e)return null;const r=e.coordinates.length;let n;return e.type==="LineString"?(n=60+(r<<4),e.coordinates=this.parseZPointArray(t,n,r,e.coordinates),e):(n=56+(e.coordinates.reduce(function(a,h){return a+h.length},0)<<4)+(r<<2),e.coordinates=this.parseZArrayGroup(t,n,r,e.coordinates),e)};pt.prototype.polyFuncs=function(t){return t&&(t.type==="LineString"?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=t.coordinates.reduce(Vo,[]),t.coordinates.length===1?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t)))};pt.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))};pt.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};const qr={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function Yo(t){return t?function(e,r){const n=[e.readDoubleLE(r),e.readDoubleLE(r+8)];return t.inverse(n)}:function(e,r){return[e.readDoubleLE(r),e.readDoubleLE(r+8)]}}function pt(t,e){if(!(this instanceof pt))return new pt(t,e);this.buffer=t,this.headers=this.parseHeader(),this.headers.length<this.buffer.byteLength&&(this.buffer=this.buffer.slice(0,this.headers.length)),this.shpFuncs(e),this.rows=this.getRows()}pt.prototype.shpFuncs=function(t){let e=this.headers.shpCode;if(e>20&&(e-=20),!(e in qr))throw new Error("I don't know that shp type");this.parseFunc=this[qr[e]],this.parseCoord=Yo(t)};pt.prototype.getShpCode=function(){return this.parseHeader().shpCode};pt.prototype.parseHeader=function(){const t=this.buffer.slice(0,100);return{length:t.readInt32BE(6<<2)<<1,version:t.readInt32LE(7<<2),shpCode:t.readInt32LE(8<<2),bbox:[t.readDoubleLE(9<<2),t.readDoubleLE(11<<2),t.readDoubleLE(13<<2),t.readDoubleLE(13<<2)]}};pt.prototype.getRows=function(){let t=100;const e=this.buffer.byteLength,r=[];let n;for(;t<e&&(n=this.getRow(t),!!n);)t+=8,t+=n.len,n.type?r.push(this.parseFunc(n.data)):r.push(null);return r};pt.prototype.getRow=function(t){const e=this.buffer.slice(t,t+12),r=e.readInt32BE(4)<<1,n=e.readInt32BE(0);return r===0?{id:n,len:r,type:0}:{id:n,len:r,data:this.buffer.slice(t+12,t+r+8),type:e.readInt32LE(8)}};var tl=function(t,e){return new pt(t,e).rows},Gr={},el={get exports(){return Gr},set exports(t){Gr=t}},nr={},rl={get exports(){return nr},set exports(t){nr=t}};(function(t){(function(e){t.exports&&e["encoding-indexes"];function r(d,v,g){return v<=d&&d<=g}function n(d,v){return d.indexOf(v)!==-1}var i=Math.floor;function a(d){if(d===void 0)return{};if(d===Object(d))return d;throw TypeError("Could not convert argument to dictionary")}function h(d){for(var v=String(d),g=v.length,C=0,E=[];C<g;){var S=v.charCodeAt(C);if(S<55296||S>57343)E.push(S);else if(56320<=S&&S<=57343)E.push(65533);else if(55296<=S&&S<=56319)if(C===g-1)E.push(65533);else{var N=v.charCodeAt(C+1);if(56320<=N&&N<=57343){var G=S&1023,P=N&1023;E.push(65536+(G<<10)+P),C+=1}else E.push(65533)}C+=1}return E}function s(d){for(var v="",g=0;g<d.length;++g){var C=d[g];C<=65535?v+=String.fromCharCode(C):(C-=65536,v+=String.fromCharCode((C>>10)+55296,(C&1023)+56320))}return v}function o(d){return 0<=d&&d<=127}var u=o,_=-1;function m(d){this.tokens=[].slice.call(d),this.tokens.reverse()}m.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():_},prepend:function(d){if(Array.isArray(d))for(var v=d;v.length;)this.tokens.push(v.pop());else this.tokens.push(d)},push:function(d){if(Array.isArray(d))for(var v=d;v.length;)this.tokens.unshift(v.shift());else this.tokens.unshift(d)}};var M=-1;function l(d,v){if(d)throw TypeError("Decoder error");return v||65533}function p(d){throw TypeError("The code point "+d+" could not be encoded.")}function c(d){return d=String(d).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(w,d)?w[d]:null}var x=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],w={};x.forEach(function(d){d.encodings.forEach(function(v){v.labels.forEach(function(g){w[g]=v})})});var b={},k={};function O(d,v){return v&&v[d]||null}function I(d,v){var g=v.indexOf(d);return g===-1?null:g}function F(d){if(!("encoding-indexes"in e))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return e["encoding-indexes"][d]}function B(d){if(d>39419&&d<189e3||d>1237575)return null;if(d===7457)return 59335;var v=0,g=0,C=F("gb18030-ranges"),E;for(E=0;E<C.length;++E){var S=C[E];if(S[0]<=d)v=S[0],g=S[1];else break}return g+d-v}function U(d){if(d===59335)return 7457;var v=0,g=0,C=F("gb18030-ranges"),E;for(E=0;E<C.length;++E){var S=C[E];if(S[1]<=d)v=S[1],g=S[0];else break}return g+d-v}function z(d){$=$||F("jis0208").map(function(g,C){return r(C,8272,8835)?null:g});var v=$;return v.indexOf(d)}var $;function Y(d){A=A||F("big5").map(function(g,C){return C<(161-129)*157?null:g});var v=A;return d===9552||d===9566||d===9569||d===9578||d===21313||d===21317?v.lastIndexOf(d):I(d,v)}var A,D="utf-8";function y(d,v){if(!(this instanceof y))throw TypeError("Called as a function. Did you forget 'new'?");d=d!==void 0?String(d):D,v=a(v),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var g=c(d);if(g===null||g.name==="replacement")throw RangeError("Unknown encoding: "+d);if(!k[g.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");var C=this;return C._encoding=g,Boolean(v.fatal)&&(C._error_mode="fatal"),Boolean(v.ignoreBOM)&&(C._ignoreBOM=!0),Object.defineProperty||(this.encoding=C._encoding.name.toLowerCase(),this.fatal=C._error_mode==="fatal",this.ignoreBOM=C._ignoreBOM),C}Object.defineProperty&&(Object.defineProperty(y.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(y.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(y.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),y.prototype.decode=function(v,g){var C;typeof v=="object"&&v instanceof ArrayBuffer?C=new Uint8Array(v):typeof v=="object"&&"buffer"in v&&v.buffer instanceof ArrayBuffer?C=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):C=new Uint8Array(0),g=a(g),this._do_not_flush||(this._decoder=k[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=Boolean(g.stream);for(var E=new m(C),S=[],N;;){var G=E.read();if(G===_||(N=this._decoder.handler(E,G),N===M))break;N!==null&&(Array.isArray(N)?S.push.apply(S,N):S.push(N))}if(!this._do_not_flush){do{if(N=this._decoder.handler(E,E.read()),N===M)break;N!==null&&(Array.isArray(N)?S.push.apply(S,N):S.push(N))}while(!E.endOfStream());this._decoder=null}function P(X){return n(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(X.length>0&&X[0]===65279?(this._BOMseen=!0,X.shift()):X.length>0&&(this._BOMseen=!0)),s(X)}return P.call(this,S)};function q(d,v){if(!(this instanceof q))throw TypeError("Called as a function. Did you forget 'new'?");v=a(v),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(v.fatal)?"fatal":"replacement";var g=this;if(Boolean(v.NONSTANDARD_allowLegacyEncoding)){d=d!==void 0?String(d):D;var C=c(d);if(C===null||C.name==="replacement")throw RangeError("Unknown encoding: "+d);if(!b[C.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");g._encoding=C}else g._encoding=c("utf-8"),d!==void 0&&"console"in e&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=g._encoding.name.toLowerCase()),g}Object.defineProperty&&Object.defineProperty(q.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),q.prototype.encode=function(v,g){v=v===void 0?"":String(v),g=a(g),this._do_not_flush||(this._encoder=b[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=Boolean(g.stream);for(var C=new m(h(v)),E=[],S;;){var N=C.read();if(N===_||(S=this._encoder.handler(C,N),S===M))break;Array.isArray(S)?E.push.apply(E,S):E.push(S)}if(!this._do_not_flush){for(;S=this._encoder.handler(C,C.read()),S!==M;)Array.isArray(S)?E.push.apply(E,S):E.push(S);this._encoder=null}return new Uint8Array(E)};function rt(d){var v=d.fatal,g=0,C=0,E=0,S=128,N=191;this.handler=function(G,P){if(P===_&&E!==0)return E=0,l(v);if(P===_)return M;if(E===0){if(r(P,0,127))return P;if(r(P,194,223))E=1,g=P&31;else if(r(P,224,239))P===224&&(S=160),P===237&&(N=159),E=2,g=P&15;else if(r(P,240,244))P===240&&(S=144),P===244&&(N=143),E=3,g=P&7;else return l(v);return null}if(!r(P,S,N))return g=E=C=0,S=128,N=191,G.prepend(P),l(v);if(S=128,N=191,g=g<<6|P&63,C+=1,C!==E)return null;var X=g;return g=E=C=0,X}}function W(d){d.fatal,this.handler=function(v,g){if(g===_)return M;if(u(g))return g;var C,E;r(g,128,2047)?(C=1,E=192):r(g,2048,65535)?(C=2,E=224):r(g,65536,1114111)&&(C=3,E=240);for(var S=[(g>>6*C)+E];C>0;){var N=g>>6*(C-1);S.push(128|N&63),C-=1}return S}}b["UTF-8"]=function(d){return new W(d)},k["UTF-8"]=function(d){return new rt(d)};function st(d,v){var g=v.fatal;this.handler=function(C,E){if(E===_)return M;if(o(E))return E;var S=d[E-128];return S===null?l(g):S}}function H(d,v){v.fatal,this.handler=function(g,C){if(C===_)return M;if(u(C))return C;var E=I(C,d);return E===null&&p(C),E+128}}(function(){"encoding-indexes"in e&&x.forEach(function(d){d.heading==="Legacy single-byte encodings"&&d.encodings.forEach(function(v){var g=v.name,C=F(g.toLowerCase());k[g]=function(E){return new st(C,E)},b[g]=function(E){return new H(C,E)}})})})(),k.GBK=function(d){return new et(d)},b.GBK=function(d){return new R(d,!0)};function et(d){var v=d.fatal,g=0,C=0,E=0;this.handler=function(S,N){if(N===_&&g===0&&C===0&&E===0)return M;N===_&&(g!==0||C!==0||E!==0)&&(g=0,C=0,E=0,l(v));var G;if(E!==0){G=null,r(N,48,57)&&(G=B((((g-129)*10+C-48)*126+E-129)*10+N-48));var P=[C,E,N];return g=0,C=0,E=0,G===null?(S.prepend(P),l(v)):G}if(C!==0)return r(N,129,254)?(E=N,null):(S.prepend([C,N]),g=0,C=0,l(v));if(g!==0){if(r(N,48,57))return C=N,null;var X=g,ht=null;g=0;var at=N<127?64:65;return(r(N,64,126)||r(N,128,254))&&(ht=(X-129)*190+(N-at)),G=ht===null?null:O(ht,F("gb18030")),G===null&&o(N)&&S.prepend(N),G===null?l(v):G}return o(N)?N:N===128?8364:r(N,129,254)?(g=N,null):l(v)}}function R(d,v){d.fatal,this.handler=function(g,C){if(C===_)return M;if(u(C))return C;if(C===58853)return p(C);if(v&&C===8364)return 128;var E=I(C,F("gb18030"));if(E!==null){var S=i(E/190)+129,N=E%190,G=N<63?64:65;return[S,N+G]}if(v)return p(C);E=U(C);var P=i(E/10/126/10);E=E-P*10*126*10;var X=i(E/10/126);E=E-X*10*126;var ht=i(E/10),at=E-ht*10;return[P+129,X+48,ht+129,at+48]}}b.gb18030=function(d){return new R(d)},k.gb18030=function(d){return new et(d)};function T(d){var v=d.fatal,g=0;this.handler=function(C,E){if(E===_&&g!==0)return g=0,l(v);if(E===_&&g===0)return M;if(g!==0){var S=g,N=null;g=0;var G=E<127?64:98;switch((r(E,64,126)||r(E,161,254))&&(N=(S-129)*157+(E-G)),N){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var P=N===null?null:O(N,F("big5"));return P===null&&o(E)&&C.prepend(E),P===null?l(v):P}return o(E)?E:r(E,129,254)?(g=E,null):l(v)}}function tt(d){d.fatal,this.handler=function(v,g){if(g===_)return M;if(u(g))return g;var C=Y(g);if(C===null)return p(g);var E=i(C/157)+129;if(E<161)return p(g);var S=C%157,N=S<63?64:98;return[E,S+N]}}b.Big5=function(d){return new tt(d)},k.Big5=function(d){return new T(d)};function Q(d){var v=d.fatal,g=!1,C=0;this.handler=function(E,S){if(S===_&&C!==0)return C=0,l(v);if(S===_&&C===0)return M;if(C===142&&r(S,161,223))return C=0,65377-161+S;if(C===143&&r(S,161,254))return g=!0,C=S,null;if(C!==0){var N=C;C=0;var G=null;return r(N,161,254)&&r(S,161,254)&&(G=O((N-161)*94+(S-161),F(g?"jis0212":"jis0208"))),g=!1,r(S,161,254)||E.prepend(S),G===null?l(v):G}return o(S)?S:S===142||S===143||r(S,161,254)?(C=S,null):l(v)}}function K(d){d.fatal,this.handler=function(v,g){if(g===_)return M;if(u(g))return g;if(g===165)return 92;if(g===8254)return 126;if(r(g,65377,65439))return[142,g-65377+161];g===8722&&(g=65293);var C=I(g,F("jis0208"));if(C===null)return p(g);var E=i(C/94)+161,S=C%94+161;return[E,S]}}b["EUC-JP"]=function(d){return new K(d)},k["EUC-JP"]=function(d){return new Q(d)};function ft(d){var v=d.fatal,g={ASCII:0,Roman:1,Katakana:2,LeadByte:3,TrailByte:4,EscapeStart:5,Escape:6},C=g.ASCII,E=g.ASCII,S=0,N=!1;this.handler=function(G,P){switch(C){default:case g.ASCII:return P===27?(C=g.EscapeStart,null):r(P,0,127)&&P!==14&&P!==15&&P!==27?(N=!1,P):P===_?M:(N=!1,l(v));case g.Roman:return P===27?(C=g.EscapeStart,null):P===92?(N=!1,165):P===126?(N=!1,8254):r(P,0,127)&&P!==14&&P!==15&&P!==27&&P!==92&&P!==126?(N=!1,P):P===_?M:(N=!1,l(v));case g.Katakana:return P===27?(C=g.EscapeStart,null):r(P,33,95)?(N=!1,65377-33+P):P===_?M:(N=!1,l(v));case g.LeadByte:return P===27?(C=g.EscapeStart,null):r(P,33,126)?(N=!1,S=P,C=g.TrailByte,null):P===_?M:(N=!1,l(v));case g.TrailByte:if(P===27)return C=g.EscapeStart,l(v);if(r(P,33,126)){C=g.LeadByte;var X=(S-33)*94+P-33,ht=O(X,F("jis0208"));return ht===null?l(v):ht}return P===_?(C=g.LeadByte,G.prepend(P),l(v)):(C=g.LeadByte,l(v));case g.EscapeStart:return P===36||P===40?(S=P,C=g.Escape,null):(G.prepend(P),N=!1,C=E,l(v));case g.Escape:var at=S;S=0;var gt=null;if(at===40&&P===66&&(gt=g.ASCII),at===40&&P===74&&(gt=g.Roman),at===40&&P===73&&(gt=g.Katakana),at===36&&(P===64||P===66)&&(gt=g.LeadByte),gt!==null){C=C=gt;var Ht=N;return N=!0,Ht?l(v):null}return G.prepend([at,P]),N=!1,C=E,l(v)}}}function xt(d){d.fatal;var v={ASCII:0,Roman:1,jis0208:2},g=v.ASCII;this.handler=function(C,E){if(E===_&&g!==v.ASCII)return C.prepend(E),g=v.ASCII,[27,40,66];if(E===_&&g===v.ASCII)return M;if((g===v.ASCII||g===v.Roman)&&(E===14||E===15||E===27))return p(65533);if(g===v.ASCII&&u(E))return E;if(g===v.Roman&&(u(E)&&E!==92&&E!==126||E==165||E==8254)){if(u(E))return E;if(E===165)return 92;if(E===8254)return 126}if(u(E)&&g!==v.ASCII)return C.prepend(E),g=v.ASCII,[27,40,66];if((E===165||E===8254)&&g!==v.Roman)return C.prepend(E),g=v.Roman,[27,40,74];E===8722&&(E=65293);var S=I(E,F("jis0208"));if(S===null)return p(E);if(g!==v.jis0208)return C.prepend(E),g=v.jis0208,[27,36,66];var N=i(S/94)+33,G=S%94+33;return[N,G]}}b["ISO-2022-JP"]=function(d){return new xt(d)},k["ISO-2022-JP"]=function(d){return new ft(d)};function nt(d){var v=d.fatal,g=0;this.handler=function(C,E){if(E===_&&g!==0)return g=0,l(v);if(E===_&&g===0)return M;if(g!==0){var S=g,N=null;g=0;var G=E<127?64:65,P=S<160?129:193;if((r(E,64,126)||r(E,128,252))&&(N=(S-P)*188+E-G),r(N,8836,10715))return 57344-8836+N;var X=N===null?null:O(N,F("jis0208"));return X===null&&o(E)&&C.prepend(E),X===null?l(v):X}return o(E)||E===128?E:r(E,161,223)?65377-161+E:r(E,129,159)||r(E,224,252)?(g=E,null):l(v)}}function ot(d){d.fatal,this.handler=function(v,g){if(g===_)return M;if(u(g)||g===128)return g;if(g===165)return 92;if(g===8254)return 126;if(r(g,65377,65439))return g-65377+161;g===8722&&(g=65293);var C=z(g);if(C===null)return p(g);var E=i(C/188),S=E<31?129:193,N=C%188,G=N<63?64:65;return[E+S,N+G]}}b.Shift_JIS=function(d){return new ot(d)},k.Shift_JIS=function(d){return new nt(d)};function _t(d){var v=d.fatal,g=0;this.handler=function(C,E){if(E===_&&g!==0)return g=0,l(v);if(E===_&&g===0)return M;if(g!==0){var S=g,N=null;g=0,r(E,65,254)&&(N=(S-129)*190+(E-65));var G=N===null?null:O(N,F("euc-kr"));return N===null&&o(E)&&C.prepend(E),G===null?l(v):G}return o(E)?E:r(E,129,254)?(g=E,null):l(v)}}function ct(d){d.fatal,this.handler=function(v,g){if(g===_)return M;if(u(g))return g;var C=I(g,F("euc-kr"));if(C===null)return p(g);var E=i(C/190)+129,S=C%190+65;return[E,S]}}b["EUC-KR"]=function(d){return new ct(d)},k["EUC-KR"]=function(d){return new _t(d)};function Ct(d,v){var g=d>>8,C=d&255;return v?[g,C]:[C,g]}function At(d,v){var g=v.fatal,C=null,E=null;this.handler=function(S,N){if(N===_&&(C!==null||E!==null))return l(g);if(N===_&&C===null&&E===null)return M;if(C===null)return C=N,null;var G;if(d?G=(C<<8)+N:G=(N<<8)+C,C=null,E!==null){var P=E;return E=null,r(G,56320,57343)?65536+(P-55296)*1024+(G-56320):(S.prepend(Ct(G,d)),l(g))}return r(G,55296,56319)?(E=G,null):r(G,56320,57343)?l(g):G}}function f(d,v){v.fatal,this.handler=function(g,C){if(C===_)return M;if(r(C,0,65535))return Ct(C,d);var E=Ct((C-65536>>10)+55296,d),S=Ct((C-65536&1023)+56320,d);return E.concat(S)}}b["UTF-16BE"]=function(d){return new f(!0,d)},k["UTF-16BE"]=function(d){return new At(!0,d)},b["UTF-16LE"]=function(d){return new f(!1,d)},k["UTF-16LE"]=function(d){return new At(!1,d)};function j(d){d.fatal,this.handler=function(v,g){return g===_?M:o(g)?g:63360+g-128}}function L(d){d.fatal,this.handler=function(v,g){return g===_?M:u(g)?g:r(g,63360,63487)?g-63360+128:p(g)}}b["x-user-defined"]=function(d){return new L(d)},k["x-user-defined"]=function(d){return new j(d)},e.TextEncoder||(e.TextEncoder=q),e.TextDecoder||(e.TextDecoder=y),t.exports&&(t.exports={TextEncoder:e.TextEncoder,TextDecoder:e.TextDecoder,EncodingIndexes:e["encoding-indexes"]})})(yt||{})})(rl);(function(t){t.exports=nr})(el);var bi={},Ge={},il={get exports(){return Ge},set exports(t){Ge=t}};(function(t,e){var r=Ze,n=r.Buffer;function i(h,s){for(var o in h)s[o]=h[o]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(h,s,o){return n(h,s,o)}i(n,a),a.from=function(h,s,o){if(typeof h=="number")throw new TypeError("Argument must not be a number");return n(h,s,o)},a.alloc=function(h,s,o){if(typeof h!="number")throw new TypeError("Argument must be a number");var u=n(h);return s!==void 0?typeof o=="string"?u.fill(s,o):u.fill(s):u.fill(0),u},a.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return n(h)},a.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(h)}})(il,Ge);var mr=Ge.Buffer,$r=mr.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function al(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function sl(t){var e=al(t);if(typeof e!="string"&&(mr.isEncoding===$r||!$r(t)))throw new Error("Unknown encoding: "+t);return e||t}bi.StringDecoder=Ae;function Ae(t){this.encoding=sl(t);var e;switch(this.encoding){case"utf16le":this.text=fl,this.end=cl,e=4;break;case"utf8":this.fillLast=ol,e=4;break;case"base64":this.text=dl,this.end=ml,e=3;break;default:this.write=vl,this.end=pl;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=mr.allocUnsafe(e)}Ae.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ae.prototype.end=ul;Ae.prototype.text=ll;Ae.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Qe(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function nl(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Qe(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Qe(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Qe(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function hl(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function ol(t){var e=this.lastTotal-this.lastNeed,r=hl(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function ll(t,e){var r=nl(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function ul(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function fl(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function cl(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function dl(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function ml(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function vl(t){return t.toString(this.encoding)}function pl(t){return t&&t.length?this.write(t):""}var _l=bi.StringDecoder;function Wr(t){var e=new _l,r=e.write(t)+e.end();return r.replace(/\0/g,"").trim()}var gl=Ei,yl=/^(?:ANSI\s)?(\d+)$/m;function Ei(t,e){if(!t)return Wr;try{new TextDecoder(t.trim())}catch{var r=yl.exec(t);return r&&!e?Ei("windows-"+r[1],!0):Wr}return n;function n(i){var a=new TextDecoder(t),h=a.decode(i,{stream:!0})+a.decode();return h.replace(/\0/g,"").trim()}}var xl=gl;function Ml(t){var e={};return e.lastUpdated=new Date(t.readUInt8(1)+1900,t.readUInt8(2),t.readUInt8(3)),e.records=t.readUInt32LE(4),e.headerLen=t.readUInt16LE(8),e.recLen=t.readUInt16LE(10),e}function wl(t,e,r){for(var n=[],i=32;i<e&&(n.push({name:r(t.slice(i,i+11)),dataType:String.fromCharCode(t.readUInt8(i+11)),len:t.readUInt8(i+16),decimal:t.readUInt8(i+17)}),t.readUInt8(i+32)!==13);)i+=32;return n}function bl(t,e,r,n,i){var a=t.slice(e,e+r),h=i(a);switch(n){case"N":case"F":case"O":return parseFloat(h,10);case"D":return new Date(h.slice(0,4),parseInt(h.slice(4,6),10)-1,h.slice(6,8));case"L":return h.toLowerCase()==="y"||h.toLowerCase()==="t";default:return h}}function El(t,e,r,n){for(var i={},a=0,h=r.length,s,o;a<h;)o=r[a],s=bl(t,e,o.len,o.dataType,n),e+=o.len,typeof s<"u"&&(i[o.name]=s),a++;return i}var Cl=function(t,e){for(var r=xl(e),n=Ml(t),i=wl(t,n.headerLen-1,r),a=(i.length+1<<5)+2,h=n.recLen,s=n.records,o=[];s;)o.push(El(t,a,i,r)),a+=h,s--;return o},hr={},Sl={get exports(){return hr},set exports(t){hr=t}};(function(t){(function(){t.exports?t.exports=a:this.LRUCache=a;function e(l,p){return Object.prototype.hasOwnProperty.call(l,p)}function r(){return 1}var n=!1;function i(l){!n&&typeof l!="string"&&typeof l!="number"&&(n=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof l).stack))}function a(l){if(!(this instanceof a))return new a(l);typeof l=="number"&&(l={max:l}),l||(l={}),this._max=l.max,(!this._max||typeof this._max!="number"||this._max<=0)&&(this._max=1/0),this._lengthCalculator=l.length||r,typeof this._lengthCalculator!="function"&&(this._lengthCalculator=r),this._allowStale=l.stale||!1,this._maxAge=l.maxAge||null,this._dispose=l.dispose,this.reset()}Object.defineProperty(a.prototype,"max",{set:function(l){(!l||typeof l!="number"||l<=0)&&(l=1/0),this._max=l,this._length>this._max&&u(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(a.prototype,"lengthCalculator",{set:function(l){if(typeof l!="function"){this._lengthCalculator=r,this._length=this._itemCount;for(var p in this._cache)this._cache[p].length=1}else{this._lengthCalculator=l,this._length=0;for(var p in this._cache)this._cache[p].length=this._lengthCalculator(this._cache[p].value),this._length+=this._cache[p].length}this._length>this._max&&u(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(a.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),a.prototype.forEach=function(l,p){p=p||this;for(var c=0,x=this._itemCount,w=this._mru-1;w>=0&&c<x;w--)if(this._lruList[w]){c++;var b=this._lruList[w];s(this,b)&&(m(this,b),this._allowStale||(b=void 0)),b&&l.call(p,b.value,b.key,this)}},a.prototype.keys=function(){for(var l=new Array(this._itemCount),p=0,c=this._mru-1;c>=0&&p<this._itemCount;c--)if(this._lruList[c]){var x=this._lruList[c];l[p++]=x.key}return l},a.prototype.values=function(){for(var l=new Array(this._itemCount),p=0,c=this._mru-1;c>=0&&p<this._itemCount;c--)if(this._lruList[c]){var x=this._lruList[c];l[p++]=x.value}return l},a.prototype.reset=function(){if(this._dispose&&this._cache)for(var l in this._cache)this._dispose(l,this._cache[l].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},a.prototype.dump=function(){for(var l=[],p=0,c=this._mru-1;c>=0&&p<this._itemCount;c--)if(this._lruList[c]){var x=this._lruList[c];s(this,x)||(++p,l.push({k:x.key,v:x.value,e:x.now+(x.maxAge||0)}))}return l},a.prototype.dumpLru=function(){return this._lruList},a.prototype.set=function(l,p,c){c=c||this._maxAge,i(l);var x=c?Date.now():0,w=this._lengthCalculator(p);if(e(this._cache,l))return w>this._max?(m(this,this._cache[l]),!1):(this._dispose&&this._dispose(l,this._cache[l].value),this._cache[l].now=x,this._cache[l].maxAge=c,this._cache[l].value=p,this._length+=w-this._cache[l].length,this._cache[l].length=w,this.get(l),this._length>this._max&&u(this),!0);var b=new M(l,p,this._mru++,w,x,c);return b.length>this._max?(this._dispose&&this._dispose(l,p),!1):(this._length+=b.length,this._lruList[b.lu]=this._cache[l]=b,this._itemCount++,this._length>this._max&&u(this),!0)},a.prototype.has=function(l){if(i(l),!e(this._cache,l))return!1;var p=this._cache[l];return!s(this,p)},a.prototype.get=function(l){return i(l),h(this,l,!0)},a.prototype.peek=function(l){return i(l),h(this,l,!1)},a.prototype.pop=function(){var l=this._lruList[this._lru];return m(this,l),l||null},a.prototype.del=function(l){i(l),m(this,this._cache[l])},a.prototype.load=function(l){this.reset();for(var p=Date.now(),c=l.length-1;c>=0;c--){var x=l[c];i(x.k);var w=x.e||0;if(w===0)this.set(x.k,x.v);else{var b=w-p;b>0&&this.set(x.k,x.v,b)}}};function h(l,p,c){i(p);var x=l._cache[p];return x&&(s(l,x)?(m(l,x),l._allowStale||(x=void 0)):c&&o(l,x),x&&(x=x.value)),x}function s(l,p){if(!p||!p.maxAge&&!l._maxAge)return!1;var c=!1,x=Date.now()-p.now;return p.maxAge?c=x>p.maxAge:c=l._maxAge&&x>l._maxAge,c}function o(l,p){_(l,p),p.lu=l._mru++,l._lruList[p.lu]=p}function u(l){for(;l._lru<l._mru&&l._length>l._max;)m(l,l._lruList[l._lru])}function _(l,p){for(delete l._lruList[p.lu];l._lru<l._mru&&!l._lruList[l._lru];)l._lru++}function m(l,p){p&&(l._dispose&&l._dispose(p.key,p.value),l._length-=p.length,l._itemCount--,delete l._cache[p.key],_(l,p))}function M(l,p,c,x,w,b){this.key=l,this.value=p,this.lu=c,this.length=x,this.now=w,b&&(this.maxAge=b)}})()})(Sl);let ie=Ao;ie.default&&(ie=ie.default);const kl=No,Me=Xo,vr=tl,pr=Cl,He=yi,Al=hr,pe=Ze.Buffer,Il=yt.URL,Ve=new Al({max:20});function _r(t){if(!t)throw new Error("forgot to pass buffer");if(pe.isBuffer(t))return t;if(Zr(t))return pe.from(t);if(Zr(t.buffer))return t.BYTES_PER_ELEMENT===1?pe.from(t):pe.from(t.buffer)}function Zr(t){return t instanceof yt.ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"}function Rt(t,e){return typeof t=="string"&&Ve.has(t)?He.resolve(Ve.get(t)):Rt.getShapefile(t,e).then(function(r){return typeof t=="string"&&Ve.set(t,r),r})}Rt.combine=function([t,e]){const r={};r.type="FeatureCollection",r.features=[];let n=0;const i=t.length;for(e||(e=[]);n<i;)r.features.push({type:"Feature",geometry:t[n],properties:e[n]||{}}),n++;return r};Rt.parseZip=async function(t,e){let r;t=_r(t);const n=await kl(t),i=[];e=e||[];for(r in n)r.indexOf("__MACOSX")===-1&&(r.slice(-3).toLowerCase()==="shp"?(i.push(r.slice(0,-4)),n[r.slice(0,-3)+r.slice(-3).toLowerCase()]=n[r]):r.slice(-3).toLowerCase()==="prj"?n[r.slice(0,-3)+r.slice(-3).toLowerCase()]=ie(n[r]):r.slice(-4).toLowerCase()==="json"||e.indexOf(r.split(".").pop())>-1?i.push(r.slice(0,-3)+r.slice(-3).toLowerCase()):(r.slice(-3).toLowerCase()==="dbf"||r.slice(-3).toLowerCase()==="cpg")&&(n[r.slice(0,-3)+r.slice(-3).toLowerCase()]=n[r]));if(!i.length)throw new Error("no layers founds");const a=i.map(function(h){let s,o;const u=h.lastIndexOf(".");return u>-1&&h.slice(u).indexOf("json")>-1?(s=JSON.parse(n[h]),s.fileName=h.slice(0,u)):e.indexOf(h.slice(u+1))>-1?(s=n[h],s.fileName=h):(n[h+".dbf"]&&(o=pr(n[h+".dbf"],n[h+".cpg"])),s=Rt.combine([vr(n[h+".shp"],n[h+".prj"]),o]),s.fileName=h),s});return a.length===1?a[0]:a};async function Ol(t,e){const r=await Me(t);return Rt.parseZip(r,e)}const Nl=async t=>{const e=await He.all([Me(t,"shp"),Me(t,"prj")]);let r=!1;try{e[1]&&(r=ie(e[1]))}catch{r=!1}return vr(e[0],r)},Pl=async t=>{const[e,r]=await He.all([Me(t,"dbf"),Me(t,"cpg")]);if(e)return pr(e,r)},Fl=(t,e)=>new Il(t).pathname.slice(-4).toLowerCase()===e;Rt.getShapefile=async function(t,e){if(typeof t!="string")return Rt.parseZip(t);if(Fl(t,".zip"))return Ol(t,e);const r=await He.all([Nl(t),Pl(t)]);return Rt.combine(r)};Rt.parseShp=function(t,e){if(t=_r(t),pe.isBuffer(e)&&(e=e.toString()),typeof e=="string")try{e=ie(e)}catch{e=!1}return vr(t,e)};Rt.parseDbf=function(t,e){return t=_r(t),pr(t,e)};var Tl=Rt;const Dl=qi({__name:"ThreeShp",setup(t){const e=Gi();$i(()=>{var c;const i=new Ii,a=new Oi(16777215,.5);i.add(a);const h=new Ni(16777215,.9);h.position.set(-200,300,400),i.add(h);const s=new Pi(300);i.add(s);const o=new Fi(h,10);i.add(o);const u=800,_=500,m=new Ti(500,u/_,1,5e3);m.position.set(0,0,20),m.lookAt(0,0,0),n(i);const M=new Ri;M.setSize(u,_),M.render(i,m),(c=e.value)==null||c.appendChild(M.domElement);const l=new Bi(m,M.domElement);l.target.set(0,0,0),l.update();function p(){M.render(i,m),window.requestAnimationFrame(p)}p()});function r(i){var a=new Li,h=new Float32Array(i),s=new Di(h,3);a.attributes.position=s;var o=new Ui({color:65535}),u=new ji(a,o);return u}async function n(i){var a=new zi;i.add(a),Tl("http://127.0.0.1:5173/src/assets/sheng2022/sheng2022").then(h=>{h.features.forEach(function(s){if(s.geometry.type==="Polygon"){var o=[];s.geometry.coordinates[0].forEach(u=>{o.push(u[0]-90,u[1]-25,0)}),a.add(r(o))}else s.geometry.type==="MultiPolygon"&&s.geometry.coordinates.forEach(u=>{var _=[];u[0].forEach(m=>{_.push(m[0]-90,m[1]-25,0)}),a.add(r(_))})})})}return(i,a)=>(Zi(),Wi("div",{ref_key:"container",ref:e,style:{height:"500px",width:"800px","background-color":"aqua"}},null,512))}});export{Dl as default};
