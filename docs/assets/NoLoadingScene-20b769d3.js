var l=Object.defineProperty;var h=(n,e,s)=>e in n?l(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var r=(n,e,s)=>(h(n,typeof e!="symbol"?e+"":e,s),s);import{V as t,M as a,C as c,E as p,S as u,a as m,g as d,U as _}from"./nativeXRFrame-b7f26ff2.js";import{b as w}from"./babylon.inspector.bundle.max-98dcbd32.js";import{d as y,r as g,o as x,c as f,a as v,b as C}from"./index-bf5306e0.js";import"./_commonjsHelpers-edff4021.js";class b{constructor(e,s){this.size=e,this.scene=s,this.size=e,this.scene=s,this.createAxes()}createAxes(){const e=t.Zero(),s=a.CreateLines("xAxis",{points:[e,new t(this.size,0,0)]},this.scene),o=a.CreateLines("yAxis",{points:[e,new t(0,this.size,0)]},this.scene),i=a.CreateLines("zAxis",{points:[e,new t(0,0,this.size)]},this.scene);s.color=new c(1,0,0),o.color=new c(0,1,0),i.color=new c(0,0,1)}}const k="/assets/Prototype_Level-cd940959.glb";class L{constructor(e){r(this,"scene");r(this,"engine");this.engine=new p(e,!0),this.scene=this.createScene(),this.createEnvironment(),this.createController(),this.engine.runRenderLoop(()=>{this.scene.render()})}createScene(){const e=new u(this.engine);new m("hemi",new t(0,1,0),e),w.Inspector.Show(e,{embedMode:!0}),e.onPointerDown=i=>{i.button===0?this.engine.enterPointerlock():i.button===1&&this.engine.exitPointerlock()};const s=60,o=-9.81;return e.gravity=new t(0,o/s,0),e.collisionsEnabled=!0,new b(1,e),e}async createEnvironment(){const{meshes:e}=await d.ImportMeshAsync("",k);e.forEach(s=>{s.checkCollisions=!0})}createController(){const e=new _("camera",new t(0,10,0));e.inputs.addMouseWheel(),e.inputs.addMouse(),e.attachControl(),e.applyGravity=!0,e.checkCollisions=!0,e.ellipsoid=new t(1,1,1),e.minZ=.5,e.speed=.75,e.angularSensibility=4e3,e.keysUp.push(87),e.keysLeft.push(65),e.keysDown.push(83),e.keysRight.push(68)}}const P=y({__name:"NoLoadingScene",setup(n){const e=g();return x(()=>{new L(e.value)}),(s,o)=>(C(),f("main",null,[v("canvas",{ref_key:"canvas",ref:e},null,512)]))}});export{P as default};
