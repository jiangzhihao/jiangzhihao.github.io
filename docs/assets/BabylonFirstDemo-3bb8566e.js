import{E as I,S as L,A as _,V as t,a as C,b as O,M as g,c as v,d as x,e as a,f as p}from"./nativeXRFrame-b7f26ff2.js";import{a as E}from"./earcut-e37c2549.js";import{d as P,r as T,o as B,c as N,b as F}from"./index-bf5306e0.js";const z=P({__name:"BabylonFirstDemo",setup(R){const l=T();return B(()=>{const s=new I(l.value,!0),b=function(){const n=new L(s);return new _("camera",-Math.PI/2,Math.PI/2.5,15,new t(0,0,0)).attachControl(l,!0),new C("light",new t(1,1,0),n),new O("treesManager","textures/palm.png",2e3,{width:512,height:1024},n),(()=>{const o=[new t(-.3,0,-.1),new t(.2,0,-.1)];for(let h=0;h<20;h++)o.push(new t(.2*Math.cos(h*Math.PI/40),0,.2*Math.sin(h*Math.PI/40)-.1));o.push(new t(0,0,.1)),o.push(new t(-.3,0,.1));const i=g.ExtrudePolygon("car",{shape:o,depth:.2},n,E),r=[];r[0]=new p(0,0,1,1),r[1]=new p(0,.5,0,.5),r[2]=new p(0,0,1,1);const e=g.CreateCylinder("wheelRB",{diameter:.125,height:.05,faceUV:r}),w=new v("wheelMat");w.diffuseTexture=new x("https://assets.babylonjs.com/environments/wheel.png"),e.material=w,e.parent=i,e.position.z=-.1,e.position.x=-.2,e.position.y=.035;const u=e.clone("wheelRF");u.position.x=.1;const d=e.clone("wheelLB");d.position.y=-.2-.035;const f=u.clone("wheelLF");f.position.y=-.2-.035;const M=new a("wheelAnimation","rotation.y",30,a.ANIMATIONTYPE_FLOAT,a.ANIMATIONLOOPMODE_CYCLE),m=[];m.push({frame:0,value:0}),m.push({frame:30,value:2*Math.PI}),M.setKeys(m),e.animations=[],e.animations.push(M),n.beginAnimation(e,0,30,!0),n.beginAnimation(u,0,30,!0),n.beginAnimation(d,0,30,!0),n.beginAnimation(f,0,30,!0);const A=new a("carAnimation","position.x",30,a.ANIMATIONTYPE_FLOAT,a.ANIMATIONLOOPMODE_CYCLE),c=[];c.push({frame:0,value:-4}),c.push({frame:150,value:4}),c.push({frame:210,value:4}),A.setKeys(c),i.animations=[],i.animations.push(A),n.beginAnimation(i,0,210,!0)})(),n}();s.runRenderLoop(function(){b.render()}),window.addEventListener("resize",function(){s.resize()})}),(s,y)=>(F(),N("canvas",{ref_key:"canvas",ref:l,style:{height:"500px",width:"500px","background-color":"aqua"}},null,512))}});export{z as default};
